{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_2 = {\n  class: \"table table-hover align-middle\"\n};\nconst _hoisted_3 = {\n  class: \"table-light\"\n};\nconst _hoisted_4 = {\n  class: \"fw-medium\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  style: {\n    \"color\": \"#198754\",\n    \"font-weight\": \"bold\",\n    \"font-size\": \"1.4em\",\n    \"line-height\": \"1\"\n  }\n};\nconst _hoisted_6 = {\n  key: 1,\n  style: {\n    \"color\": \"#dc3545\",\n    \"font-weight\": \"bold\",\n    \"font-size\": \"1.4em\",\n    \"line-height\": \"1\"\n  }\n};\nconst _hoisted_7 = {\n  key: 2\n};\nconst _hoisted_8 = {\n  class: \"text-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"table\", _hoisted_2, [_createElementVNode(\"thead\", _hoisted_3, [_createElementVNode(\"tr\", null, [_cache[0] || (_cache[0] = _createElementVNode(\"th\", null, \"Employee\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.uniqueDates, date => {\n    return _openBlock(), _createElementBlock(\"th\", {\n      key: date,\n      class: \"text-center\"\n    }, _toDisplayString($options.formatDate(date)), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */)), _cache[1] || (_cache[1] = _createElementVNode(\"th\", {\n    class: \"text-center\"\n  }, \"Leave Status\", -1 /* CACHED */))])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.attendanceData, employee => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: employee.employeeId\n    }, [_createElementVNode(\"td\", _hoisted_4, _toDisplayString(employee.name), 1 /* TEXT */), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.uniqueDates, date => {\n      return _openBlock(), _createElementBlock(\"td\", {\n        key: date,\n        class: \"text-center\"\n      }, [_createElementVNode(\"span\", {\n        class: _normalizeClass([\"badge\", $options.statusBadgeClass(employee, date)]),\n        style: {\n          \"font-size\": \"1.1em\"\n        }\n      }, [$options.getStatus(employee, date) === 'Present' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \"✓\")) : $options.getStatus(employee, date) === 'Absent' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \"✗\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_7))], 2 /* CLASS */)]);\n    }), 128 /* KEYED_FRAGMENT */)), _createCommentVNode(\" Leave Status column: show status for the first date with a leave request, or blank \"), _createElementVNode(\"td\", _hoisted_8, [$options.getOverallLeaveStatus(employee) ? (_openBlock(), _createElementBlock(\"span\", {\n      key: 0,\n      class: _normalizeClass([\"badge\", $options.leaveStatusBadgeClass($options.getOverallLeaveStatus(employee))]),\n      style: {\n        \"font-size\": \"0.95em\"\n      }\n    }, _toDisplayString($options.capitalize($options.getOverallLeaveStatus(employee))), 3 /* TEXT, CLASS */)) : _createCommentVNode(\"v-if\", true)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","_renderList","$options","uniqueDates","date","key","formatDate","$data","attendanceData","employee","employeeId","_hoisted_4","_toDisplayString","name","_normalizeClass","statusBadgeClass","getStatus","_hoisted_5","_hoisted_6","_hoisted_7","_createCommentVNode","_hoisted_8","getOverallLeaveStatus","leaveStatusBadgeClass","capitalize"],"sources":["C:\\Users\\Student\\Documents\\Exercises\\Workshop\\Vue\\hr_system\\src\\components\\AttendanceComp.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"table-responsive\">\r\n      <table class=\"table table-hover align-middle\">\r\n        <thead class=\"table-light\">\r\n          <tr>\r\n            <th>Employee</th>\r\n            <th v-for=\"date in uniqueDates\" :key=\"date\" class=\"text-center\">\r\n              {{ formatDate(date) }}\r\n            </th>\r\n            <th class=\"text-center\">Leave Status</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"employee in attendanceData\" :key=\"employee.employeeId\">\r\n            <td class=\"fw-medium\">{{ employee.name }}</td>\r\n            <template v-for=\"date in uniqueDates\" :key=\"date\">\r\n              <td class=\"text-center\">\r\n                <span \r\n                  class=\"badge\"\r\n                  :class=\"statusBadgeClass(employee, date)\"\r\n                  style=\"font-size: 1.1em;\"\r\n                >\r\n                  <span v-if=\"getStatus(employee, date) === 'Present'\" style=\"color: #198754; font-weight: bold; font-size: 1.4em; line-height: 1;\">✓</span>\r\n                  <span v-else-if=\"getStatus(employee, date) === 'Absent'\" style=\"color: #dc3545; font-weight: bold; font-size: 1.4em; line-height: 1;\">✗</span>\r\n                  <span v-else></span>\r\n                </span>\r\n              </td>\r\n            </template>\r\n            <!-- Leave Status column: show status for the first date with a leave request, or blank -->\r\n            <td class=\"text-center\">\r\n              <span\r\n                v-if=\"getOverallLeaveStatus(employee)\"\r\n                class=\"badge\"\r\n                :class=\"leaveStatusBadgeClass(getOverallLeaveStatus(employee))\"\r\n                style=\"font-size: 0.95em;\"\r\n              >\r\n                {{ capitalize(getOverallLeaveStatus(employee)) }}\r\n              </span>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport attendanceData from '@/data/attendance.json';\r\n\r\nexport default {\r\n  name: 'AttendanceComp',\r\n  data() {\r\n    return {\r\n      attendanceData: attendanceData.attendanceAndLeave\r\n    }\r\n  },\r\n  computed: {\r\n    uniqueDates() {\r\n      const dates = new Set();\r\n      this.attendanceData.forEach(employee => {\r\n        employee.attendance.forEach(record => {\r\n          dates.add(record.date);\r\n        });\r\n      });\r\n      return Array.from(dates).sort();\r\n    }\r\n  },\r\n  methods: {\r\n    formatDate(dateString) {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleDateString('en-GB', { \r\n        day: '2-digit', \r\n        month: 'short' \r\n      });\r\n    },\r\n    getStatus(employee, date) {\r\n      const record = employee.attendance.find(a => a.date === date);\r\n      return record ? record.status : '';\r\n    },\r\n    getLeaveStatus(employee, date) {\r\n      if (!employee.leaveRequests) return '';\r\n      const leave = employee.leaveRequests.find(l => l.date === date);\r\n      return leave ? leave.status : '';\r\n    },\r\n    getOverallLeaveStatus(employee) {\r\n      // Show the status of the first leave request, or blank if none\r\n      if (employee.leaveRequests && employee.leaveRequests.length > 0) {\r\n        return employee.leaveRequests[0].status;\r\n      }\r\n      return '';\r\n    },\r\n    getStatusSymbol(employee, date) {\r\n      const status = this.getStatus(employee, date);\r\n      return status === 'Present' ? '✓' : status === 'Absent' ? '✗' : '';\r\n    },\r\n    statusBadgeClass(employee, date) {\r\n      const status = this.getStatus(employee, date);\r\n      return {\r\n        'bg-primary bg-opacity-10 text-primary': status === 'Present',\r\n        'bg-secondary bg-opacity-10 text-secondary': status === 'Absent',\r\n        'bg-light text-muted': !status\r\n      };\r\n    },\r\n    leaveStatusBadgeClass(status) {\r\n      const s = status ? status.toLowerCase() : '';\r\n      return {\r\n        'bg-warning text-dark': s === 'pending',\r\n        'bg-success': s === 'approved',\r\n        'bg-danger': s === 'denied'\r\n      };\r\n    },\r\n    capitalize(str) {\r\n      if (!str) return '';\r\n      return str.charAt(0).toUpperCase() + str.slice(1);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  border-radius: 0.5rem;\r\n}\r\n\r\n.card-header {\r\n  border-radius: 0.5rem 0.5rem 0 0 !important;\r\n}\r\n\r\n.table {\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.table th {\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  font-size: 0.8rem;\r\n  letter-spacing: 0.5px;\r\n  color: #6c757d;\r\n}\r\n\r\n.badge {\r\n  font-weight: 500;\r\n  padding: 0.35em 0.65em;\r\n  border-radius: 0.25rem;\r\n}\r\n\r\n.bg-primary {\r\n  background-color: #2f7df4 !important;\r\n}\r\n\r\n.bg-secondary {\r\n  background-color: #101112 !important;\r\n}\r\n\r\n.bg-primary.bg-opacity-10 {\r\n  background-color: rgba(49, 72, 105, 0.1) !important;\r\n}\r\n\r\n.bg-secondary.bg-opacity-10 {\r\n  background-color: rgba(108, 117, 125, 0.1) !important;\r\n}\r\n\r\n.text-primary {\r\n  color: #0d6efd !important;\r\n}\r\n\r\n.text-secondary {\r\n  color: #6c757d !important;\r\n}\r\n\r\n.attendance-header {\r\n  background-color: #39BBC8 !important;\r\n}\r\n</style>"],"mappings":";;EAESA,KAAK,EAAC;AAAkB;;EACpBA,KAAK,EAAC;AAAgC;;EACpCA,KAAK,EAAC;AAAa;;EAWlBA,KAAK,EAAC;AAAW;;;EAQsCC,KAA4E,EAA5E;IAAA;IAAA;IAAA;IAAA;EAAA;;;;EACIA,KAA4E,EAA5E;IAAA;IAAA;IAAA;IAAA;EAAA;;;;;;EAM3DD,KAAK,EAAC;AAAa;;uBA7BjCE,mBAAA,CA2CM,cA1CJC,mBAAA,CAyCM,OAzCNC,UAyCM,GAxCJD,mBAAA,CAuCQ,SAvCRE,UAuCQ,GAtCNF,mBAAA,CAQQ,SARRG,UAQQ,GAPNH,mBAAA,CAMK,a,0BALHA,mBAAA,CAAiB,YAAb,UAAQ,sB,kBACZD,mBAAA,CAEKK,SAAA,QAAAC,WAAA,CAFcC,QAAA,CAAAC,WAAW,EAAnBC,IAAI;yBAAfT,mBAAA,CAEK;MAF4BU,GAAG,EAAED,IAAI;MAAEX,KAAK,EAAC;wBAC7CS,QAAA,CAAAI,UAAU,CAACF,IAAI;4DAEpBR,mBAAA,CAAyC;IAArCH,KAAK,EAAC;EAAa,GAAC,cAAY,oB,KAGxCG,mBAAA,CA4BQ,iB,kBA3BND,mBAAA,CA0BKK,SAAA,QAAAC,WAAA,CA1BkBM,KAAA,CAAAC,cAAc,EAA1BC,QAAQ;yBAAnBd,mBAAA,CA0BK;MA1BmCU,GAAG,EAAEI,QAAQ,CAACC;QACpDd,mBAAA,CAA8C,MAA9Ce,UAA8C,EAAAC,gBAAA,CAArBH,QAAQ,CAACI,IAAI,mB,kBACtClB,mBAAA,CAYWK,SAAA,QAAAC,WAAA,CAZcC,QAAA,CAAAC,WAAW,EAAnBC,IAAI;2BACnBT,mBAAA,CAUK;aAXqCS,IAAI;QAC1CX,KAAK,EAAC;UACRG,mBAAA,CAQO;QAPLH,KAAK,EAAAqB,eAAA,EAAC,OAAO,EACLZ,QAAA,CAAAa,gBAAgB,CAACN,QAAQ,EAAEL,IAAI;QACvCV,KAAyB,EAAzB;UAAA;QAAA;UAEYQ,QAAA,CAAAc,SAAS,CAACP,QAAQ,EAAEL,IAAI,mB,cAApCT,mBAAA,CAA0I,QAA1IsB,UAA0I,EAAR,GAAC,KAClHf,QAAA,CAAAc,SAAS,CAACP,QAAQ,EAAEL,IAAI,kB,cAAzCT,mBAAA,CAA8I,QAA9IuB,UAA8I,EAAR,GAAC,M,cACvIvB,mBAAA,CAAoB,QAAAwB,UAAA,G;oCAI1BC,mBAAA,wFAA2F,EAC3FxB,mBAAA,CASK,MATLyB,UASK,GAPKnB,QAAA,CAAAoB,qBAAqB,CAACb,QAAQ,K,cADtCd,mBAAA,CAOO;;MALLF,KAAK,EAAAqB,eAAA,EAAC,OAAO,EACLZ,QAAA,CAAAqB,qBAAqB,CAACrB,QAAA,CAAAoB,qBAAqB,CAACb,QAAQ;MAC5Df,KAA0B,EAA1B;QAAA;MAAA;wBAEGQ,QAAA,CAAAsB,UAAU,CAACtB,QAAA,CAAAoB,qBAAqB,CAACb,QAAQ,6B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}