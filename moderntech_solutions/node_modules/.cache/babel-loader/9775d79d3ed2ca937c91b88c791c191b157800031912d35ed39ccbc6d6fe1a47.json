{"ast":null,"code":"import jsPDF from \"jspdf\";\nexport default {\n  methods: {\n    downloadPayslip() {\n      const doc = new jsPDF();\n\n      // Add logo to the PDF\n      const logoImg = new Image();\n      logoImg.src = '/Logo.png'; // Must be in the public folder\n      logoImg.onload = () => {\n        doc.addImage(logoImg, 'PNG', 15, 10, 30, 30);\n        doc.setFontSize(16);\n        doc.text('Payslip', 105, 20, null, null, 'center');\n        doc.setFontSize(12);\n        doc.text(`Employee: ${this.employeeInfo.employeeName}`, 15, 50);\n        doc.text(`Pay Period: ${this.employeeInfo.payPeriod}`, 15, 60);\n        doc.text(`Net Salary: R${this.netSalary.toFixed(2)}`, 15, 70);\n        doc.save(`${this.employeeInfo.employeeName}_Payslip.pdf`);\n      };\n    }\n  }\n};","map":{"version":3,"names":["jsPDF","methods","downloadPayslip","doc","logoImg","Image","src","onload","addImage","setFontSize","text","employeeInfo","employeeName","payPeriod","netSalary","toFixed","save"],"sources":["C:\\Users\\DELL\\Documents\\Exercises\\hr_system\\src\\views\\PayrollView.vue"],"sourcesContent":["<template>\r\n  <div class=\"p-6 bg-gray-100 min-h-screen\">\r\n    <div class=\"bg-white shadow rounded-lg p-6 max-w-7xl mx-auto\">\r\n      <div class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2 mb-6 items-start\">\r\n        <div class=\"flex flex-col items-center\">\r\n          <label class=\"text-xs font-semibold text-gray-600 mb-1 text-center\">Select Employee</label>\r\n          <select v-model=\"selectedEmployeeId\" @change=\"loadEmployeeData\" class=\"border border-blue-400 rounded w-full px-2 py-3 text-xs\">\r\n            <option value=\"\">-- Select Employee --</option>\r\n            <option v-for=\"emp in payrollData\" :key=\"emp.employeeId\" :value=\"emp.employeeId\">\r\n              {{ getEmployeeName(emp.employeeId) }} (ID: {{ emp.employeeId }})\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"flex flex-col items-center\">\r\n          <label class=\"text-xs font-semibold text-gray-600 mb-1 text-center\">User ID</label>\r\n          <input v-model=\"employeeInfo.userId\" placeholder=\"Enter User ID\" class=\"border border-blue-400 rounded w-full px-2 py-3 text-xs\" />\r\n        </div>\r\n        <div class=\"flex flex-col items-center\">\r\n          <label class=\"text-xs font-semibold text-gray-600 mb-1 text-center\">Employee Name</label>\r\n          <input v-model=\"employeeInfo.employeeName\" placeholder=\"Enter Employee Name\" class=\"border border-blue-400 rounded w-full px-2 py-3 text-xs\" />\r\n        </div>\r\n        <div class=\"flex flex-col items-center\">\r\n          <label class=\"text-xs font-semibold text-gray-600 mb-1 text-center\">Pay Period</label>\r\n          <input v-model=\"employeeInfo.payPeriod\" class=\"border border-blue-400 rounded w-full px-2 py-3 text-xs\" />\r\n        </div>\r\n        <div class=\"flex flex-col items-center\">\r\n          <label class=\"text-xs font-semibold text-gray-600 mb-1 text-center\">Leave Deductions (Days)</label>\r\n          <input v-model.number=\"employeeInfo.leaveDeductions\" type=\"number\" min=\"0\" step=\"1\" placeholder=\"0\" readonly class=\"border border-blue-400 bg-gray-100 text-gray-600 rounded w-full px-2 py-3 text-xs\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"flex justify-between items-center mb-4\">\r\n        <h1 class=\"text-2xl font-bold text-gray-700\">Monthly Payroll</h1>\r\n        <button @click=\"downloadPayslip\" class=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded shadow\">Download Payslip</button>\r\n      </div>\r\n\r\n      <div class=\"overflow-auto\">\r\n        <table class=\"w-full border border-gray-300 text-sm\">\r\n          <thead class=\"bg-gray-200 text-gray-700\">\r\n            <tr>\r\n              <th class=\"p-2 border\">Worked</th>\r\n              <th class=\"p-2 border\">Day</th>\r\n              <th class=\"p-2 border\">Date</th>\r\n              <th class=\"p-2 border\">Regular Hours</th>\r\n              <th class=\"p-2 border\">Rate Per Hour</th>\r\n              <th class=\"p-2 border\">Total Salary</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"(day, index) in days\" :key=\"index\" class=\"hover:bg-gray-50\">\r\n              <td class=\"p-2 border\">\r\n                <input v-if=\"day.name!=''\" type=\"checkbox\" v-model=\"day.worked\" class=\"form-checkbox h-4 w-4 text-blue-600\" />\r\n              </td>\r\n              <td class=\"p-2 border\">{{ day.name }}</td>\r\n              <td class=\"p-2 border\">{{ day.date }}</td>\r\n              <td class=\"p-2 border\">\r\n                <input v-if=\"day.name!=''\" type=\"number\" v-model.number=\"day.regular\" min=\"0\" class=\"w-14 px-2 py-2 border rounded text-xs\" />\r\n              </td>\r\n              <td class=\"p-2 border\">\r\n                <input v-if=\"day.name!=''\" type=\"number\" v-model.number=\"day.rate\" min=\"412.61\" max=\"412.61\" class=\"w-16 px-2 py-2 border rounded text-xs\" />\r\n              </td>\r\n              <td class=\"p-2 border\">\r\n                <span v-if=\"day.name!=''\">{{ day.worked ? (day.regular * day.rate).toFixed(2) : '0.00' }}</span>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <tfoot class=\"bg-gray-100\">\r\n            <tr>\r\n              <th colspan=\"3\" class=\"p-2 border\"></th>\r\n              <th class=\"p-2 border\">{{ totalRegularHours }}</th>\r\n              <th class=\"p-2 border\">Monthly Total</th>\r\n              <th class=\"p-2 border\">{{ totalSalary.toFixed(2) }}</th>\r\n            </tr>\r\n            <tr v-if=\"employeeInfo.leaveDeductions > 0\">\r\n              <th colspan=\"5\" class=\"p-2 border\">Leave Deductions ({{ employeeInfo.leaveDeductions }} days)</th>\r\n              <th class=\"p-2 border\">-{{ leaveDeductionAmount.toFixed(2) }}</th>\r\n            </tr>\r\n            <tr>\r\n              <th colspan=\"5\" class=\"p-2 border\">Net Salary</th>\r\n              <th class=\"p-2 border\">{{ netSalary.toFixed(2) }}</th>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport jsPDF from \"jspdf\";\r\n\r\nexport default {\r\n  methods: {\r\n    downloadPayslip() {\r\n      const doc = new jsPDF();\r\n\r\n      // Add logo to the PDF\r\n      const logoImg = new Image();\r\n      logoImg.src = '/Logo.png'; // Must be in the public folder\r\n      logoImg.onload = () => {\r\n        doc.addImage(logoImg, 'PNG', 15, 10, 30, 30);\r\n\r\n        doc.setFontSize(16);\r\n        doc.text('Payslip', 105, 20, null, null, 'center');\r\n\r\n        doc.setFontSize(12);\r\n        doc.text(`Employee: ${this.employeeInfo.employeeName}`, 15, 50);\r\n        doc.text(`Pay Period: ${this.employeeInfo.payPeriod}`, 15, 60);\r\n        doc.text(`Net Salary: R${this.netSalary.toFixed(2)}`, 15, 70);\r\n\r\n        doc.save(`${this.employeeInfo.employeeName}_Payslip.pdf`);\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* existing styles remain unchanged */\r\n</style>\r\n"],"mappings":"AAyFA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,OAAO,EAAE;IACPC,eAAeA,CAAA,EAAG;MAChB,MAAMC,GAAE,GAAI,IAAIH,KAAK,CAAC,CAAC;;MAEvB;MACA,MAAMI,OAAM,GAAI,IAAIC,KAAK,CAAC,CAAC;MAC3BD,OAAO,CAACE,GAAE,GAAI,WAAW,EAAE;MAC3BF,OAAO,CAACG,MAAK,GAAI,MAAM;QACrBJ,GAAG,CAACK,QAAQ,CAACJ,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QAE5CD,GAAG,CAACM,WAAW,CAAC,EAAE,CAAC;QACnBN,GAAG,CAACO,IAAI,CAAC,SAAS,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,CAAC;QAElDP,GAAG,CAACM,WAAW,CAAC,EAAE,CAAC;QACnBN,GAAG,CAACO,IAAI,CAAC,aAAa,IAAI,CAACC,YAAY,CAACC,YAAY,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QAC/DT,GAAG,CAACO,IAAI,CAAC,eAAe,IAAI,CAACC,YAAY,CAACE,SAAS,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QAC9DV,GAAG,CAACO,IAAI,CAAC,gBAAgB,IAAI,CAACI,SAAS,CAACC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QAE7DZ,GAAG,CAACa,IAAI,CAAC,GAAG,IAAI,CAACL,YAAY,CAACC,YAAY,cAAc,CAAC;MAC3D,CAAC;IACH;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}