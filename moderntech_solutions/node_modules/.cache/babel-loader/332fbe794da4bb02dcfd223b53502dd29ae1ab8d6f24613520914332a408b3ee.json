{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"py-8\",\n  style: {\n    \"margin-left\": \"30px\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"p-8 main-content-area\"\n};\nconst _hoisted_3 = {\n  class: \"flex flex-col items-center mb-8 card-container\"\n};\nconst _hoisted_4 = {\n  class: \"flex flex-wrap gap-4 justify-center card-grid-row\"\n};\nconst _hoisted_5 = {\n  class: \"e-number-card-sparkline-wrapper bg-white rounded-lg shadow p-4 flex flex-col items-center dashboard-card min-w-[180px] sm:min-w-[200px] lg:min-w-min\"\n};\nconst _hoisted_6 = {\n  class: \"e-number-card-measure-text text-center text-wrap text-xl sm:text-2xl\",\n  style: {\n    \"color\": \"#2b80ff\"\n  }\n};\nconst _hoisted_7 = {\n  class: \"e-number-card-sparkline-wrapper bg-white rounded-lg shadow p-4 flex flex-col items-center dashboard-card\"\n};\nconst _hoisted_8 = {\n  class: \"e-number-card-measure-text\",\n  style: {\n    \"font-size\": \"24px\",\n    \"color\": \"#22c55e\"\n  }\n};\nconst _hoisted_9 = {\n  class: \"e-number-card-sparkline-wrapper bg-white rounded-lg shadow p-4 flex flex-col items-center dashboard-card\"\n};\nconst _hoisted_10 = {\n  class: \"e-number-card-measure-text\",\n  style: {\n    \"font-size\": \"24px\",\n    \"color\": \"#ef4444\"\n  }\n};\nconst _hoisted_11 = {\n  class: \"e-number-card-sparkline-wrapper bg-white rounded-lg shadow p-4 flex flex-col items-center dashboard-card\"\n};\nconst _hoisted_12 = {\n  class: \"e-number-card-measure-text\",\n  style: {\n    \"font-size\": \"24px\",\n    \"color\": \"#f59e42\"\n  }\n};\nconst _hoisted_13 = {\n  class: \"flex w-full justify-center mt-4 card-denied-row\"\n};\nconst _hoisted_14 = {\n  class: \"e-number-card-sparkline-wrapper bg-white rounded-lg shadow p-4 flex flex-col items-center dashboard-card\"\n};\nconst _hoisted_15 = {\n  class: \"e-number-card-measure-text\",\n  style: {\n    \"font-size\": \"24px\",\n    \"color\": \"#ef4444\"\n  }\n};\nconst _hoisted_16 = {\n  class: \"mb-6 flex flex-wrap gap-4 select-container\"\n};\nconst _hoisted_17 = [\"value\"];\nconst _hoisted_18 = {\n  key: 0,\n  class: \"mb-8 grid grid-cols-1 md:grid-cols-3 gap-7 chart-grid-container\"\n};\nconst _hoisted_19 = {\n  class: \"bg-white rounded-lg shadow p-4 flex flex-col items-center chart-card\"\n};\nconst _hoisted_20 = {\n  ref: \"deptBar\",\n  width: \"250\",\n  height: \"200\",\n  class: \"chart-canvas\"\n};\nconst _hoisted_21 = {\n  class: \"bg-white rounded-lg shadow p-4 flex flex-col items-center chart-card\"\n};\nconst _hoisted_22 = {\n  ref: \"salaryBar\",\n  width: \"250\",\n  height: \"200\",\n  class: \"chart-canvas\"\n};\nconst _hoisted_23 = {\n  class: \"bg-white rounded-lg shadow p-4 flex flex-col items-center chart-card\"\n};\nconst _hoisted_24 = {\n  ref: \"historyBar\",\n  width: \"250\",\n  height: \"200\",\n  class: \"chart-canvas\"\n};\nconst _hoisted_25 = {\n  class: \"relative mt-8 bg-white rounded-lg shadow p-4 flex flex-col items-center main-chart-wrapper\"\n};\nconst _hoisted_26 = {\n  ref: \"hoursLine\",\n  width: \"600\",\n  height: \"250\",\n  class: \"main-chart-canvas\",\n  style: {\n    \"z-index\": \"1\",\n    \"position\": \"relative\"\n  }\n};\nconst _hoisted_27 = {\n  key: 1,\n  class: \"text-gray-500\"\n};\nconst _hoisted_28 = {\n  key: 2,\n  class: \"text-red-500 mt-4\"\n};\nconst _hoisted_29 = {\n  key: 3,\n  class: \"text-gray-500\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[15] || (_cache[15] = _createElementVNode(\"h1\", {\n    class: \"text-2xl/7 font-bold text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight m text-left\",\n    style: {\n      \"margin-left\": \"30px\"\n    }\n  }, \" Dashboard \", -1 /* CACHED */)), _cache[16] || (_cache[16] = _createElementVNode(\"h2\", {\n    class: \"text-xl font-semibold text-gray-700 mt-5 mb-2 text-left\",\n    style: {\n      \"margin-left\": \"30px\"\n    }\n  }, \" Good day, Tom \", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_cache[1] || (_cache[1] = _createElementVNode(\"div\", {\n    class: \"e-number-card-title-text text-center text-wrap text-sm sm:text-base\",\n    style: {\n      \"color\": \"#2b80ff\"\n    }\n  }, \" Total Employees\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_6, _toDisplayString($data.totalEmployees), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_7, [_cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n    class: \"e-number-card-title-text\",\n    style: {\n      \"font-size\": \"16px\",\n      \"color\": \"#22c55e\"\n    }\n  }, \"Present\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_8, _toDisplayString($data.totalPresent), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_9, [_cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n    class: \"e-number-card-title-text\",\n    style: {\n      \"font-size\": \"16px\",\n      \"color\": \"#ef4444\"\n    }\n  }, \"Absent\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_10, _toDisplayString($data.totalAbsent), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_11, [_cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n    class: \"e-number-card-title-text\",\n    style: {\n      \"font-size\": \"16px\",\n      \"color\": \"#f59e42\"\n    }\n  }, \"Pending\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_12, _toDisplayString($data.totalPending), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_13, [_cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n    class: \"dashboard-card-spacer\"\n  }, null, -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_14, [_cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n    class: \"e-number-card-title-text\",\n    style: {\n      \"font-size\": \"16px\",\n      \"color\": \"#ef4444\"\n    }\n  }, \"Denied\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_15, _toDisplayString($data.totalDenied), 1 /* TEXT */)]), _cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n    class: \"dashboard-card-spacer\"\n  }, null, -1 /* CACHED */))])]), _cache[14] || (_cache[14] = _createElementVNode(\"div\", {\n    class: \"month\"\n  }, \"This month\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_16, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedDepartment = $event),\n    class: \"border px-3 py-2 rounded shadow-sm department-select\"\n  }, [_cache[8] || (_cache[8] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"All Departments\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.departments, dept => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: dept,\n      value: dept\n    }, _toDisplayString(dept), 9 /* TEXT, PROPS */, _hoisted_17);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.selectedDepartment]])]), !$data.loading && $options.filteredEmployees.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_cache[9] || (_cache[9] = _createElementVNode(\"h2\", {\n    class: \"text-lg font-medium mb-2\"\n  }, \"Employees per Department\", -1 /* CACHED */)), _createElementVNode(\"canvas\", _hoisted_20, null, 512 /* NEED_PATCH */)]), _createElementVNode(\"div\", _hoisted_21, [_cache[10] || (_cache[10] = _createElementVNode(\"h2\", {\n    class: \"text-lg font-medium mb-2\"\n  }, \"Salary Range Distribution\", -1 /* CACHED */)), _createElementVNode(\"canvas\", _hoisted_22, null, 512 /* NEED_PATCH */)]), _createElementVNode(\"div\", _hoisted_23, [_cache[11] || (_cache[11] = _createElementVNode(\"h2\", {\n    class: \"text-lg font-medium mb-2\"\n  }, \"Employees Joined Per Year\", -1 /* CACHED */)), _createElementVNode(\"canvas\", _hoisted_24, null, 512 /* NEED_PATCH */)])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_25, [_cache[12] || (_cache[12] = _createElementVNode(\"div\", {\n    class: \"bbi-dbrd-control-background\",\n    style: {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"position\": \"absolute\",\n      \"background-color\": \"var(--chart-widget-container-bg-color, #f3f4f6)\",\n      \"background-repeat\": \"no-repeat\",\n      \"opacity\": \"0.5\",\n      \"border-radius\": \"var(--chart-widget-container-border-radius, 1rem)\",\n      \"background-image\": \"none\",\n      \"z-index\": \"0\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  }, null, -1 /* CACHED */)), _cache[13] || (_cache[13] = _createElementVNode(\"h2\", {\n    class: \"text-lg font-medium mb-2 z-10\",\n    style: {\n      \"position\": \"relative\"\n    }\n  }, \"Total Hours Worked\", -1 /* CACHED */)), _createElementVNode(\"canvas\", _hoisted_26, null, 512 /* NEED_PATCH */)]), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_27, \"Loading...\")) : _createCommentVNode(\"v-if\", true), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_28, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), !$data.loading && !$options.filteredEmployees.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_29, \"No data to display.\")) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","style","ref","width","height","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","$data","totalEmployees","_hoisted_7","_hoisted_8","totalPresent","_hoisted_9","_hoisted_10","totalAbsent","_hoisted_11","_hoisted_12","totalPending","_hoisted_13","_hoisted_14","_hoisted_15","totalDenied","_hoisted_16","selectedDepartment","$event","value","_Fragment","_renderList","$options","departments","dept","key","_hoisted_17","loading","filteredEmployees","length","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","error","_hoisted_28","_hoisted_29"],"sources":["C:\\Users\\DELL\\Documents\\Exercises\\hr_system\\src\\views\\DashboardView.vue"],"sourcesContent":["<template>\n  <div class=\"py-8\" style=\"margin-left:30px;\">\n    <h1 class=\"text-2xl/7 font-bold text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight m text-left\"\n      style=\"margin-left:30px;\">\n      Dashboard\n    </h1>\n    <h2 class=\"text-xl font-semibold text-gray-700 mt-5 mb-2 text-left\" style=\"margin-left:30px;\">\n      Good day, Tom\n    </h2>\n    <div class=\"p-8 main-content-area\">\n      <div class=\"flex flex-col items-center mb-8 card-container\">\n        <div class=\"flex flex-wrap gap-4 justify-center card-grid-row\">\n          <div\n            class=\"e-number-card-sparkline-wrapper bg-white rounded-lg shadow p-4 flex flex-col items-center dashboard-card min-w-[180px] sm:min-w-[200px] lg:min-w-min\">\n            <div class=\"e-number-card-title-text text-center text-wrap text-sm sm:text-base\" style=\"color:#2b80ff;\">\n              Total Employees</div>\n            <div class=\"e-number-card-measure-text text-center text-wrap text-xl sm:text-2xl\" style=\"color:#2b80ff;\">{{\n              totalEmployees }}</div>\n          </div>\n          <div\n            class=\"e-number-card-sparkline-wrapper bg-white rounded-lg shadow p-4 flex flex-col items-center dashboard-card\">\n            <div class=\"e-number-card-title-text\" style=\"font-size:16px;color:#22c55e;\">Present</div>\n            <div class=\"e-number-card-measure-text\" style=\"font-size:24px;color:#22c55e;\">{{ totalPresent }}</div>\n          </div>\n          <div\n            class=\"e-number-card-sparkline-wrapper bg-white rounded-lg shadow p-4 flex flex-col items-center dashboard-card\">\n            <div class=\"e-number-card-title-text\" style=\"font-size:16px;color:#ef4444;\">Absent</div>\n            <div class=\"e-number-card-measure-text\" style=\"font-size:24px;color:#ef4444;\">{{ totalAbsent }}</div>\n          </div>\n          <div\n            class=\"e-number-card-sparkline-wrapper bg-white rounded-lg shadow p-4 flex flex-col items-center dashboard-card\">\n            <div class=\"e-number-card-title-text\" style=\"font-size:16px;color:#f59e42;\">Pending</div>\n            <div class=\"e-number-card-measure-text\" style=\"font-size:24px;color:#f59e42;\">{{ totalPending }}</div>\n          </div>\n        </div>\n        <div class=\"flex w-full justify-center mt-4 card-denied-row\">\n          <div class=\"dashboard-card-spacer\"></div>\n          <div\n            class=\"e-number-card-sparkline-wrapper bg-white rounded-lg shadow p-4 flex flex-col items-center dashboard-card\">\n            <div class=\"e-number-card-title-text\" style=\"font-size:16px;color:#ef4444;\">Denied</div>\n            <div class=\"e-number-card-measure-text\" style=\"font-size:24px;color:#ef4444;\">{{ totalDenied }}</div>\n          </div>\n          <div class=\"dashboard-card-spacer\"></div>\n        </div>\n      </div>\n      <div class=\"month\">This month</div>\n      <div class=\"mb-6 flex flex-wrap gap-4 select-container\">\n        <select v-model=\"selectedDepartment\" class=\"border px-3 py-2 rounded shadow-sm department-select\">\n          <option value=\"\">All Departments</option>\n          <option v-for=\"dept in departments\" :key=\"dept\" :value=\"dept\">{{ dept }}</option>\n        </select>\n      </div>\n\n      <div v-if=\"!loading && filteredEmployees.length\"\n        class=\"mb-8 grid grid-cols-1 md:grid-cols-3 gap-7 chart-grid-container\">\n        <div class=\"bg-white rounded-lg shadow p-4 flex flex-col items-center chart-card\">\n          <h2 class=\"text-lg font-medium mb-2\">Employees per Department</h2>\n          <canvas ref=\"deptBar\" width=\"250\" height=\"200\" class=\"chart-canvas\"></canvas>\n        </div>\n        <div class=\"bg-white rounded-lg shadow p-4 flex flex-col items-center chart-card\">\n          <h2 class=\"text-lg font-medium mb-2\">Salary Range Distribution</h2>\n          <canvas ref=\"salaryBar\" width=\"250\" height=\"200\" class=\"chart-canvas\"></canvas>\n        </div>\n        <div class=\"bg-white rounded-lg shadow p-4 flex flex-col items-center chart-card\">\n          <h2 class=\"text-lg font-medium mb-2\">Employees Joined Per Year</h2>\n          <canvas ref=\"historyBar\" width=\"250\" height=\"200\" class=\"chart-canvas\"></canvas>\n        </div>\n      </div>\n      <div class=\"relative mt-8 bg-white rounded-lg shadow p-4 flex flex-col items-center main-chart-wrapper\">\n        <div class=\"bbi-dbrd-control-background\" style=\"\n            width: 100%;\n            height: 100%;\n            position: absolute;\n            background-color: var(--chart-widget-container-bg-color, #f3f4f6);\n            background-repeat: no-repeat;\n            opacity: 0.5;\n            border-radius: var(--chart-widget-container-border-radius, 1rem);\n            background-image: none;\n            z-index: 0;\n            top: 0;\n            left: 0;\n          \"></div>\n        <h2 class=\"text-lg font-medium mb-2 z-10\" style=\"position:relative;\">Total Hours Worked</h2>\n        <canvas ref=\"hoursLine\" width=\"600\" height=\"250\" class=\"main-chart-canvas\"\n          style=\"z-index:1;position:relative;\"></canvas>\n      </div>\n\n      <div v-if=\"loading\" class=\"text-gray-500\">Loading...</div>\n      <div v-if=\"error\" class=\"text-red-500 mt-4\">{{ error }}</div>\n      <div v-if=\"!loading && !filteredEmployees.length\" class=\"text-gray-500\">No data to display.</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Chart from 'chart.js/auto';\n\nexport default {\n  name: \"EmployeeDashboard\",\n  props: {\n    sidebarCollapsed: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      employees: [],\n      loading: true,\n      error: null,\n      deptBar: null,\n      salaryBar: null,\n      historyBar: null,\n      hoursLine: null,\n      search: \"\",\n      selectedDepartment: \"\",\n      payrollData: [],\n      attendanceData: [],\n      totalEmployees: 0,\n      totalPresent: 0,\n      totalAbsent: 0,\n      totalPending: 0,\n      totalDenied: 0\n    };\n  },\n  computed: {\n    departments() {\n      const depts = this.employees.map(e => e.department).filter(Boolean);\n      return [...new Set(depts)];\n    },\n    filteredEmployees() {\n      return this.employees.filter(emp => {\n        return this.selectedDepartment ? emp.department === this.selectedDepartment : true;\n      });\n    }\n  },\n  watch: {\n    filteredEmployees() {\n      this.$nextTick(() => {\n        const deptBar = this.$refs.deptBar;\n        const salaryBar = this.$refs.salaryBar;\n        const historyBar = this.$refs.historyBar;\n        const hoursLine = this.$refs.hoursLine;\n        if (\n          deptBar instanceof HTMLCanvasElement &&\n          salaryBar instanceof HTMLCanvasElement &&\n          historyBar instanceof HTMLCanvasElement &&\n          hoursLine instanceof HTMLCanvasElement &&\n          this.filteredEmployees.length\n        ) {\n          if (this.deptBar) { this.deptBar.destroy(); this.deptBar = null; }\n          if (this.salaryBar) { this.salaryBar.destroy(); this.salaryBar = null; }\n          if (this.historyBar) { this.historyBar.destroy(); this.historyBar = null; }\n          if (this.hoursLine) { this.hoursLine.destroy(); this.hoursLine = null; }\n          this.renderCharts();\n          this.renderHoursLine();\n        } else {\n          if (this.deptBar) { this.deptBar.destroy(); this.deptBar = null; }\n          if (this.salaryBar) { this.salaryBar.destroy(); this.salaryBar = null; }\n          if (this.historyBar) { this.historyBar.destroy(); this.historyBar = null; }\n          if (this.hoursLine) { this.hoursLine.destroy(); this.hoursLine = null; }\n        }\n      });\n    }\n  },\n  mounted() {\n    fetch(\"https://zakariad007.github.io/employee/employee_info.json\")\n      .then(res => res.json())\n      .then(data => {\n        this.employees = data.employeeInformation;\n        this.loading = false;\n        return fetch(\"https://zakariad007.github.io/payroll/payroll_data.json\");\n      })\n      .then(res => res.json())\n      .then(payroll => {\n        this.payrollData = payroll.payrollData || [];\n        this.$nextTick(() => {\n          if (this.$refs.hoursLine) {\n            this.renderHoursLine();\n          }\n        });\n      })\n      .catch(() => {\n        this.error = \"Failed to load employee or payroll data.\";\n        this.loading = false;\n      });\n    fetch(\"https://zakariad007.github.io/attendance/attendance.json\")\n      .then(res => res.json())\n      .then(data => {\n        this.attendanceData = data.attendanceAndLeave || [];\n        this.calculateAttendanceStats();\n      });\n  },\n  methods: {\n    renderCharts() {\n      if (!this.filteredEmployees.length) return;\n\n      // Destroy existing charts before rendering new ones to prevent memory leaks/re-renders\n      if (this.deptBar) { this.deptBar.destroy(); }\n      if (this.salaryBar) { this.salaryBar.destroy(); }\n      if (this.historyBar) { this.historyBar.destroy(); }\n\n      const deptCounts = {};\n      this.filteredEmployees.forEach(emp => {\n        if (emp.department) {\n          deptCounts[emp.department] = (deptCounts[emp.department] || 0) + 1;\n        }\n      });\n      const deptCtx = this.$refs.deptBar;\n      if (deptCtx && Object.keys(deptCounts).length) {\n        this.deptBar = new Chart(deptCtx, {\n          type: 'bar',\n          data: {\n            labels: Object.keys(deptCounts),\n            datasets: [{\n              label: 'Employees',\n              data: Object.values(deptCounts),\n              backgroundColor: '#60a5fa',\n              borderColor: '#2563eb',\n              borderWidth: 2,\n              borderRadius: 6,\n              barPercentage: 0.7,\n              categoryPercentage: 0.7\n            }]\n          },\n          options: {\n            responsive: true, // Make charts responsive\n            maintainAspectRatio: false, // Allow aspect ratio to change dynamically\n            plugins: {\n              legend: { display: false },\n              title: {\n                display: true,\n                font: { size: 16, weight: 'bold' }\n              }\n            },\n            scales: {\n              y: { beginAtZero: true, precision: 0 }\n            }\n          }\n        });\n      }\n\n      const salaryRanges = {\n        '50k-59k': 0,\n        '60k-69k': 0,\n        '70k-79k': 0,\n        '80k+': 0\n      };\n      this.filteredEmployees.forEach(emp => {\n        if (emp.salary < 60000) salaryRanges['50k-59k']++;\n        else if (emp.salary < 70000) salaryRanges['60k-69k']++;\n        else if (emp.salary < 80000) salaryRanges['70k-79k']++;\n        else salaryRanges['80k+']++;\n      });\n      const salaryCtx = this.$refs.salaryBar;\n      if (salaryCtx && Object.values(salaryRanges).some(v => v > 0)) {\n        this.salaryBar = new Chart(salaryCtx, {\n          type: 'bar',\n          data: {\n            labels: Object.keys(salaryRanges),\n            datasets: [{\n              label: 'Employees',\n              data: Object.values(salaryRanges),\n              backgroundColor: '#34d399',\n              borderColor: '#059669',\n              borderWidth: 2,\n              borderRadius: 6,\n              barPercentage: 0.7,\n              categoryPercentage: 0.7\n            }]\n          },\n          options: {\n            responsive: true, // Make charts responsive\n            maintainAspectRatio: false, // Allow aspect ratio to change dynamically\n            plugins: {\n              legend: { display: false },\n              title: {\n                display: true,\n                font: { size: 16, weight: 'bold' }\n              }\n            },\n            scales: {\n              y: { beginAtZero: true, precision: 0 }\n            }\n          }\n        });\n      }\n\n      const yearCounts = {};\n      this.filteredEmployees.forEach(emp => {\n        const match = emp.employmentHistory && emp.employmentHistory.match(/Joined in (\\d{4})/);\n        if (match) {\n          const year = match[1];\n          yearCounts[year] = (yearCounts[year] || 0) + 1;\n        }\n      });\n      const historyCtx = this.$refs.historyBar;\n      if (historyCtx && Object.keys(yearCounts).length) {\n        this.historyBar = new Chart(historyCtx, {\n          type: 'bar',\n          data: {\n            labels: Object.keys(yearCounts),\n            datasets: [{\n              label: 'Employees Joined',\n              data: Object.values(yearCounts),\n              backgroundColor: '#f59e42',\n              borderColor: '#b45309',\n              borderWidth: 2,\n              borderRadius: 6,\n              barPercentage: 0.7,\n              categoryPercentage: 0.7\n            }]\n          },\n          options: {\n            responsive: true, // Make charts responsive\n            maintainAspectRatio: false, // Allow aspect ratio to change dynamically\n            plugins: {\n              legend: { display: false },\n              title: {\n                display: true,\n                font: { size: 16, weight: 'bold' }\n              }\n            },\n            scales: {\n              y: { beginAtZero: true, precision: 0 }\n            }\n          }\n        });\n      }\n    },\n    renderHoursLine() {\n      if (this.hoursLine) { this.hoursLine.destroy(); } // Destroy existing chart\n      const ctx = this.$refs.hoursLine;\n      if (!ctx || !this.payrollData.length) return;\n\n      const displayMonths = [\n        { key: \"2025-06-01\", label: \"Week 1\" },\n        { key: \"2025-06-08\", label: \"Week 2\" },\n        { key: \"2025-06-15\", label: \"Week 3\" },\n        { key: \"2025-06-22\", label: \"Week 4\" },\n        { key: \"2025-06-29\", label: \"Week 5\" }\n      ];\n      const totalHours = Number(\n        this.payrollData.reduce(\n          (sum, entry) => sum + (typeof entry.hoursWorked === \"number\" ? entry.hoursWorked : 0),\n          0\n        )\n      );\n      const monthHours = [1640, 1358, 1254, 1516, totalHours || 0];\n      const monthLabels = displayMonths.map(m => m.label);\n\n      this.hoursLine = new Chart(ctx, {\n        type: 'line',\n        data: {\n          labels: monthLabels,\n          datasets: [{\n            label: 'Total Hours Worked',\n            data: monthHours,\n            fill: true,\n            borderColor: '#6366f1',\n            backgroundColor: 'rgba(99,102,241,0.1)',\n            tension: 0.4,\n            pointBackgroundColor: '#6366f1',\n            pointBorderColor: '#fff',\n            pointRadius: 4\n          }]\n        },\n        options: {\n          responsive: true, // Make chart responsive\n          maintainAspectRatio: false, // Allow aspect ratio to change dynamically\n          plugins: {\n            legend: { display: true },\n            title: {\n              display: true,\n              font: { size: 16, weight: 'bold' }\n            }\n          },\n          scales: {\n            x: {\n              title: { display: true, text: 'Weeks' }\n            },\n            y: {\n              beginAtZero: true,\n              title: { display: true, text: 'Hours Worked' }\n            }\n          }\n        }\n      });\n    },\n    calculateAttendanceStats() {\n      this.totalEmployees = this.attendanceData.length;\n      const allAttendance = this.attendanceData.flatMap(emp => emp.attendance || []);\n      this.totalPresent = allAttendance.filter(\n        a => a.status && a.status.trim().toLowerCase() === \"present\"\n      ).length;\n      this.totalAbsent = allAttendance.filter(\n        a => a.status && a.status.trim().toLowerCase() === \"absent\"\n      ).length;\n      const allLeaveRequests = this.attendanceData.flatMap(emp => emp.leaveRequests || []);\n      this.totalPending = allLeaveRequests.filter(\n        l => l.status && l.status.trim().toLowerCase() === \"pending\"\n      ).length;\n      this.totalDenied = allLeaveRequests.filter(\n        l => l.status && l.status.trim().toLowerCase() === \"denied\"\n      ).length;\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Base styles - these apply to all screen sizes unless overridden */\n.py-8 {\n  padding-left: 30px;\n  /* Original inline style */\n}\n\nh1,\nh2 {\n  margin-left: 30px;\n  /* Original inline style */\n}\n\n.month {\n  margin-right: 8%;\n  /* Original inline style */\n  align-items: center;\n  /* Original inline style */\n  font-weight: bold;\n  /* Original inline style */\n  text-align: left;\n  /* Ensure it aligns with H1/H2 initially */\n}\n\n/* Card base styles (original inline styles for height/width) */\n.dashboard-card {\n  height: 90px;\n  width: 250px;\n  /* preserve original font-size and color for title/measure text as per request */\n}\n\n/* Spacer for the denied card, keeping original width */\n.dashboard-card-spacer {\n  width: 250px;\n}\n\n/* Chart Canvas Sizing - Important for responsiveness with Chart.js */\n.chart-canvas {\n  width: 100% !important;\n  /* Make charts fill their container */\n  height: 200px !important;\n  /* Keep original height */\n}\n\n.main-chart-canvas {\n  width: 100% !important;\n  /* Make charts fill their container */\n  height: 250px !important;\n  /* Keep original height */\n}\n\n/* Ensure Chart.js responsive option works properly */\ncanvas {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Overall padding for the main content area */\n.main-content-area {\n  padding: 2rem;\n  /* p-8 from template */\n}\n\n/* Original card hover effect */\n.bg-white.rounded-lg.shadow.p-4 {\n  transition: box-shadow 0.2s, transform 0.2s;\n}\n\n.bg-white.rounded-lg.shadow.p-4:hover {\n  box-shadow: 0 8px 32px 0 rgba(60, 60, 120, 0.18), 0 1.5px 6px 0 rgba(60, 60, 120, 0.10);\n  transform: translateY(-4px) scale(1.03);\n}\n\n/* MEDIA QUERIES BELOW */\n\n/* Extra large screens (e.g., large desktops, 1280px and up - typical 'xl' breakpoint) */\n@media (min-width: 1280px) {\n  /* No specific changes here for base layout as it's designed for larger screens already */\n}\n\n/* Large screens (e.g., desktops, up to 1279px, but larger than 1024px) */\n@media (max-width: 1279px) and (min-width: 1025px) {\n\n  /* Adjust padding for main container */\n  .py-8 {\n    padding-left: 20px;\n  }\n\n  h1,\n  h2 {\n    margin-left: 20px;\n  }\n\n  .main-content-area {\n    padding: 1.5rem;\n  }\n\n  /* Adjust card container margin (original margin-right: 90px; was too much for smaller screens) */\n  .card-container {\n    margin-right: 0 !important;\n    /* Override inline for better centering */\n  }\n\n  /* Make first row of cards slightly more compact if needed, or let flex-wrap handle */\n  .card-grid-row {\n    justify-content: center;\n    /* Ensure alignment */\n  }\n\n  /* Main chart wrapper width adjustment */\n  .main-chart-wrapper {\n    max-width: 600px;\n    /* Slightly smaller for this breakpoint if needed */\n  }\n}\n\n\n/* Medium screens (e.g., tablets in landscape, up to 1024px) */\n@media (max-width: 1024px) {\n\n  /* Adjust padding for main container */\n  .py-8 {\n    padding-left: 15px;\n  }\n\n  h1,\n  h2 {\n    margin-left: 15px;\n  }\n\n  .main-content-area {\n    padding: 1rem;\n  }\n\n  /* Card grid adjustment */\n  .card-grid-row {\n    flex-direction: row;\n    /* Keep row for 2 columns */\n    justify-content: center;\n    /* Center them */\n  }\n\n  .dashboard-card {\n    width: calc(50% - 1rem);\n    /* Two cards per row, accounting for gap */\n    max-width: 250px;\n    /* Maintain max width to prevent stretching too wide */\n  }\n\n  /* Adjust spacing for the Denied card row */\n  .card-denied-row {\n    flex-direction: row;\n    /* Keep row */\n    justify-content: center;\n    /* Center the single card */\n  }\n\n  .dashboard-card-spacer {\n    display: none;\n    /* Hide spacers as they break alignment with 2 columns */\n  }\n\n  .card-denied-row .dashboard-card {\n    width: calc(50% - 1rem);\n    /* Make Denied card similar width to others */\n    max-width: 250px;\n  }\n\n\n  /* Chart grid adjustment */\n  .chart-grid-container {\n    grid-template-columns: repeat(2, 1fr) !important;\n    /* Two columns for charts */\n  }\n\n  /* Main chart wrapper width adjustment */\n  .main-chart-wrapper {\n    max-width: 90% !important;\n    /* Allow chart to take more width */\n    margin: 1.5rem auto !important;\n    /* Recenter */\n  }\n\n  .main-chart-canvas {\n    height: 200px !important;\n    /* Slightly reduce height if desired */\n  }\n}\n\n/* Small screens (e.g., tablets in portrait, larger phones, up to 768px) */\n@media (max-width: 768px) {\n\n  /* Adjust padding for main container */\n  .py-8 {\n    padding-left: 10px;\n    padding-right: 10px;\n  }\n\n  h1,\n  h2 {\n    margin-left: 10px;\n  }\n\n  .main-content-area {\n    padding: 0.75rem;\n  }\n\n  /* Card grid adjustment - stack cards vertically */\n  .card-grid-row {\n    flex-direction: column;\n    align-items: center;\n    /* Center items when stacked */\n  }\n\n  .dashboard-card {\n    width: 95% !important;\n    /* Almost full width for cards */\n    max-width: 300px;\n    /* Cap max width for very wide phones */\n    height: 80px;\n    /* Slightly reduce height */\n  }\n\n  /* Denied card row - also stack vertically */\n  .card-denied-row {\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .dashboard-card-spacer {\n    display: none;\n    /* Ensure spacers are hidden */\n  }\n\n  .card-denied-row .dashboard-card {\n    width: 95% !important;\n    max-width: 300px;\n  }\n\n\n  /* Department select */\n  .department-select {\n    width: 100%;\n    /* Full width select box */\n    margin: 0 auto;\n    /* Center it */\n  }\n\n  /* Chart grid adjustment - stack charts vertically */\n  .chart-grid-container {\n    grid-template-columns: 1fr !important;\n    /* Single column for all charts */\n    gap: 1.5rem;\n    /* Increase gap between stacked charts */\n  }\n\n  /* Main chart wrapper adjustment */\n  .main-chart-wrapper {\n    max-width: 100% !important;\n    /* Full width for the main chart */\n    margin: 1rem auto !important;\n    /* Adjust margin */\n  }\n\n  .main-chart-canvas {\n    height: 180px !important;\n    /* Further reduce height for very small screens */\n  }\n\n  .month {\n    text-align: center;\n    /* Center \"This month\" on smaller screens */\n    margin-right: 0 !important;\n    /* Remove original margin-right */\n    margin-left: 0 !important;\n  }\n}\n\n/* Extra small screens (e.g., small phones, up to 480px) */\n@media (max-width: 480px) {\n  .py-8 {\n    padding-left: 5px;\n    padding-right: 5px;\n  }\n\n  h1,\n  h2 {\n    margin-left: 5px;\n  }\n\n  .main-content-area {\n    padding: 0.5rem;\n  }\n\n  .dashboard-card {\n    height: 70px;\n    /* Slightly smaller cards */\n  }\n\n  .main-chart-canvas {\n    height: 150px !important;\n    /* Even smaller height for charts */\n  }\n}\n\n/* Preserve original chart rendering options (responsive, maintainAspectRatio) */\n/* The script section remains unchanged */\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}