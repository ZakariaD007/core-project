{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"py-8\",\n  style: {\n    \"margin-left\": \"30px\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"p-8\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"mb-8 grid grid-cols-1 md:grid-cols-3 gap-8\"\n};\nconst _hoisted_4 = {\n  ref: \"deptBar\",\n  width: \"250\",\n  height: \"200\"\n};\nconst _hoisted_5 = {\n  ref: \"salaryBar\",\n  width: \"250\",\n  height: \"200\"\n};\nconst _hoisted_6 = {\n  ref: \"historyBar\",\n  width: \"250\",\n  height: \"200\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  class: \"text-gray-500\"\n};\nconst _hoisted_8 = {\n  key: 2,\n  class: \"text-red-500 mt-4\"\n};\nconst _hoisted_9 = {\n  key: 3,\n  class: \"text-gray-500\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[4] || (_cache[4] = _createElementVNode(\"h1\", {\n    class: \"text-2xl font-semibold text-gray-900 text-left\"\n  }, \"Good afternoon, Tom\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_2, [_cache[3] || (_cache[3] = _createElementVNode(\"h1\", {\n    class: \"text-2xl font-semibold text-gray-900 mb-6\"\n  }, \"Employee Analytics\", -1 /* CACHED */)), !$data.loading && $data.employees.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"div\", null, [_cache[0] || (_cache[0] = _createElementVNode(\"h2\", {\n    class: \"text-lg font-medium mb-2\"\n  }, \"Employees per Department\", -1 /* CACHED */)), _createElementVNode(\"canvas\", _hoisted_4, null, 512 /* NEED_PATCH */)]), _createElementVNode(\"div\", null, [_cache[1] || (_cache[1] = _createElementVNode(\"h2\", {\n    class: \"text-lg font-medium mb-2\"\n  }, \"Salary Range Distribution\", -1 /* CACHED */)), _createElementVNode(\"canvas\", _hoisted_5, null, 512 /* NEED_PATCH */)]), _createElementVNode(\"div\", null, [_cache[2] || (_cache[2] = _createElementVNode(\"h2\", {\n    class: \"text-lg font-medium mb-2\"\n  }, \"Employees Joined Per Year\", -1 /* CACHED */)), _createElementVNode(\"canvas\", _hoisted_6, null, 512 /* NEED_PATCH */)])])) : _createCommentVNode(\"v-if\", true), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, \"Loading...\")) : _createCommentVNode(\"v-if\", true), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), !$data.loading && !$data.employees.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, \"No data to display.\")) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","style","ref","width","height","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$data","loading","employees","length","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","error","_hoisted_8","_toDisplayString","_hoisted_9"],"sources":["C:\\Users\\Student\\Documents\\Exercises\\Workshop\\Vue\\hr_system\\src\\views\\DashboardView.vue"],"sourcesContent":["<template>\n  <div class=\"py-8\" style=\"margin-left:30px;\">\n    <h1 class=\"text-2xl font-semibold text-gray-900 text-left\">Good afternoon, Tom</h1>\n    <div class=\"p-8\">\n      <h1 class=\"text-2xl font-semibold text-gray-900 mb-6\">Employee Analytics</h1>\n\n      <div v-if=\"!loading && employees.length\" class=\"mb-8 grid grid-cols-1 md:grid-cols-3 gap-8\">\n        <div>\n          <h2 class=\"text-lg font-medium mb-2\">Employees per Department</h2>\n          <canvas ref=\"deptBar\" width=\"250\" height=\"200\"></canvas>\n        </div>\n        <div>\n          <h2 class=\"text-lg font-medium mb-2\">Salary Range Distribution</h2>\n          <canvas ref=\"salaryBar\" width=\"250\" height=\"200\"></canvas>\n        </div>\n        <div>\n          <h2 class=\"text-lg font-medium mb-2\">Employees Joined Per Year</h2>\n          <canvas ref=\"historyBar\" width=\"250\" height=\"200\"></canvas>\n        </div>\n      </div>\n      <div v-if=\"loading\" class=\"text-gray-500\">Loading...</div>\n      <div v-if=\"error\" class=\"text-red-500 mt-4\">{{ error }}</div>\n      <div v-if=\"!loading && !employees.length\" class=\"text-gray-500\">No data to display.</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Chart from 'chart.js/auto';\n\nexport default {\n  name: \"EmployeeDashboard\",\n  data() {\n    return {\n      employees: [],\n      loading: true,\n      error: null,\n      deptBar: null,\n      salaryBar: null,\n      historyBar: null\n    };\n  },\n  mounted() {\n    fetch(\"https://zakariad007.github.io/employee/employee_info.json\")\n      .then(res => res.json())\n      .then(data => {\n        this.employees = data.employeeInformation;\n        this.loading = false;\n        this.$nextTick(() => {\n          this.renderCharts();\n        });\n      })\n      .catch(() => {\n        this.error = \"Failed to load employee data.\";\n        this.loading = false;\n      });\n  },\n  methods: {\n    renderCharts() {\n      if (this.deptBar) { this.deptBar.destroy(); this.deptBar = null; }\n      if (this.salaryBar) { this.salaryBar.destroy(); this.salaryBar = null; }\n      if (this.historyBar) { this.historyBar.destroy(); this.historyBar = null; }\n\n      const deptCounts = {};\n      this.employees.forEach(emp => {\n        if (emp.department) {\n          deptCounts[emp.department] = (deptCounts[emp.department] || 0) + 1;\n        }\n      });\n      const deptCtx = this.$refs.deptBar;\n      if (deptCtx) {\n        this.deptBar = new Chart(deptCtx, {\n          type: 'bar',\n          data: {\n            labels: Object.keys(deptCounts),\n            datasets: [{\n              label: 'Employees',\n              data: Object.values(deptCounts),\n              backgroundColor: '#60a5fa',\n              borderColor: '#2563eb',\n              borderWidth: 2,\n              borderRadius: 6,\n              barPercentage: 0.7,\n              categoryPercentage: 0.7\n            }]\n          },\n          options: {\n            responsive: false,\n            plugins: {\n              legend: { display: false },\n              title: {\n                display: true,\n                text: 'Employees per Department',\n                font: { size: 16, weight: 'bold' }\n              },\n              tooltip: {\n                enabled: true,\n                backgroundColor: '#fff',\n                titleColor: '#111',\n                bodyColor: '#111',\n                borderColor: '#2563eb',\n                borderWidth: 1\n              }\n            },\n            scales: {\n              x: {\n                ticks: { font: { size: 12 } },\n                grid: { display: false }\n              },\n              y: {\n                beginAtZero: true,\n                precision: 0,\n                ticks: { font: { size: 12 } },\n                grid: { color: '#e5e7eb' }\n              }\n            }\n          }\n        });\n      }\n\n      const salaryRanges = {\n        '50k-59k': 0,\n        '60k-69k': 0,\n        '70k-79k': 0,\n        '80k+': 0\n      };\n      this.employees.forEach(emp => {\n        if (emp.salary < 60000) salaryRanges['50k-59k']++;\n        else if (emp.salary < 70000) salaryRanges['60k-69k']++;\n        else if (emp.salary < 80000) salaryRanges['70k-79k']++;\n        else salaryRanges['80k+']++;\n      });\n      const salaryCtx = this.$refs.salaryBar;\n      if (salaryCtx) {\n        this.salaryBar = new Chart(salaryCtx, {\n          type: 'bar',\n          data: {\n            labels: Object.keys(salaryRanges),\n            datasets: [{\n              label: 'Employees',\n              data: Object.values(salaryRanges),\n              backgroundColor: '#34d399',\n              borderColor: '#059669',\n              borderWidth: 2,\n              borderRadius: 6,\n              barPercentage: 0.7,\n              categoryPercentage: 0.7\n            }]\n          },\n          options: {\n            responsive: false,\n            plugins: {\n              legend: { display: false },\n              title: {\n                display: true,\n                text: 'Salary Range Distribution',\n                font: { size: 16, weight: 'bold' }\n              },\n              tooltip: {\n                enabled: true,\n                backgroundColor: '#fff',\n                titleColor: '#111',\n                bodyColor: '#111',\n                borderColor: '#059669',\n                borderWidth: 1\n              }\n            },\n            scales: {\n              x: {\n                ticks: { font: { size: 12 } },\n                grid: { display: false }\n              },\n              y: {\n                beginAtZero: true,\n                precision: 0,\n                ticks: { font: { size: 12 } },\n                grid: { color: '#e5e7eb' }\n              }\n            }\n          }\n        });\n      }\n\n      const yearCounts = {};\n      this.employees.forEach(emp => {\n        const match = emp.employmentHistory && emp.employmentHistory.match(/Joined in (\\d{4})/);\n        if (match) {\n          const year = match[1];\n          yearCounts[year] = (yearCounts[year] || 0) + 1;\n        }\n      });\n      const historyCtx = this.$refs.historyBar;\n      if (historyCtx) {\n        this.historyBar = new Chart(historyCtx, {\n          type: 'bar',\n          data: {\n            labels: Object.keys(yearCounts),\n            datasets: [{\n              label: 'Employees Joined',\n              data: Object.values(yearCounts),\n              backgroundColor: '#f59e42',\n              borderColor: '#b45309',\n              borderWidth: 2,\n              borderRadius: 6,\n              barPercentage: 0.7,\n              categoryPercentage: 0.7\n            }]\n          },\n          options: {\n            responsive: false,\n            plugins: {\n              legend: { display: false },\n              title: {\n                display: true,\n                text: 'Employees Joined Per Year',\n                font: { size: 16, weight: 'bold' }\n              },\n              tooltip: {\n                enabled: true,\n                backgroundColor: '#fff',\n                titleColor: '#111',\n                bodyColor: '#111',\n                borderColor: '#b45309',\n                borderWidth: 1\n              }\n            },\n            scales: {\n              x: {\n                ticks: { font: { size: 12 } },\n                grid: { display: false }\n              },\n              y: {\n                beginAtZero: true,\n                precision: 0,\n                ticks: { font: { size: 12 } },\n                grid: { color: '#e5e7eb' }\n              }\n            }\n          }\n        });\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\ncanvas {\n  max-width: 100%;\n  height: 200px !important;\n}\n</style>"],"mappings":";;EACOA,KAAK,EAAC,MAAM;EAACC,KAAyB,EAAzB;IAAA;EAAA;;;EAEXD,KAAK,EAAC;AAAK;;;EAG2BA,KAAK,EAAC;;;EAGnCE,GAAG,EAAC,SAAS;EAACC,KAAK,EAAC,KAAK;EAACC,MAAM,EAAC;;;EAIjCF,GAAG,EAAC,WAAW;EAACC,KAAK,EAAC,KAAK;EAACC,MAAM,EAAC;;;EAInCF,GAAG,EAAC,YAAY;EAACC,KAAK,EAAC,KAAK;EAACC,MAAM,EAAC;;;;EAG5BJ,KAAK,EAAC;;;;EACRA,KAAK,EAAC;;;;EACkBA,KAAK,EAAC;;;uBArBpDK,mBAAA,CAuBM,OAvBNC,UAuBM,G,0BAtBJC,mBAAA,CAAmF;IAA/EP,KAAK,EAAC;EAAgD,GAAC,qBAAmB,qBAC9EO,mBAAA,CAoBM,OApBNC,UAoBM,G,0BAnBJD,mBAAA,CAA6E;IAAzEP,KAAK,EAAC;EAA2C,GAAC,oBAAkB,qB,CAE5DS,KAAA,CAAAC,OAAO,IAAID,KAAA,CAAAE,SAAS,CAACC,MAAM,I,cAAvCP,mBAAA,CAaM,OAbNQ,UAaM,GAZJN,mBAAA,CAGM,c,0BAFJA,mBAAA,CAAkE;IAA9DP,KAAK,EAAC;EAA0B,GAAC,0BAAwB,qBAC7DO,mBAAA,CAAwD,UAAxDO,UAAwD,8B,GAE1DP,mBAAA,CAGM,c,0BAFJA,mBAAA,CAAmE;IAA/DP,KAAK,EAAC;EAA0B,GAAC,2BAAyB,qBAC9DO,mBAAA,CAA0D,UAA1DQ,UAA0D,8B,GAE5DR,mBAAA,CAGM,c,0BAFJA,mBAAA,CAAmE;IAA/DP,KAAK,EAAC;EAA0B,GAAC,2BAAyB,qBAC9DO,mBAAA,CAA2D,UAA3DS,UAA2D,8B,0CAGpDP,KAAA,CAAAC,OAAO,I,cAAlBL,mBAAA,CAA0D,OAA1DY,UAA0D,EAAhB,YAAU,K,mCACzCR,KAAA,CAAAS,KAAK,I,cAAhBb,mBAAA,CAA6D,OAA7Dc,UAA6D,EAAAC,gBAAA,CAAdX,KAAA,CAAAS,KAAK,oB,oCACxCT,KAAA,CAAAC,OAAO,KAAKD,KAAA,CAAAE,SAAS,CAACC,MAAM,I,cAAxCP,mBAAA,CAAyF,OAAzFgB,UAAyF,EAAzB,qBAAmB,K","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}