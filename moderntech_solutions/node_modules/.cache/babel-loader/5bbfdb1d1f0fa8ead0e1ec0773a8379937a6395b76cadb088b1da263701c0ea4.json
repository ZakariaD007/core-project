{"ast":null,"code":"import jsPDF from \"jspdf\";\nexport default {\n  methods: {\n    downloadPayslip() {\n      const doc = new jsPDF();\n      const logoImg = new Image();\n      logoImg.src = '/Logo.png';\n      logoImg.onload = () => {\n        doc.addImage(logoImg, 'PNG', 15, 10, 30, 30);\n        doc.setFontSize(16);\n        doc.text('Payslip', 105, 20, null, null, 'center');\n        doc.setFontSize(12);\n        doc.text(`Employee: ${this.employeeInfo.employeeName}`, 15, 50);\n        doc.text(`Pay Period: ${this.employeeInfo.payPeriod}`, 15, 60);\n        doc.text(`Net Salary: R${this.netSalary.toFixed(2)}`, 15, 70);\n        doc.save(`${this.employeeInfo.employeeName}_Payslip.pdf`);\n      };\n    }\n  }\n};","map":{"version":3,"names":["jsPDF","methods","downloadPayslip","doc","logoImg","Image","src","onload","addImage","setFontSize","text","employeeInfo","employeeName","payPeriod","netSalary","toFixed","save"],"sources":["C:\\Users\\DELL\\Documents\\Exercises\\hr_system\\src\\views\\DashboardView.vue"],"sourcesContent":["<template>\n  <div class=\"p-6 bg-gray-100 min-h-screen\">\n    <div class=\"bg-white shadow rounded-lg p-6 max-w-7xl mx-auto\">\n      <div class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2 mb-6 items-start responsive-grid\">\n        <div class=\"flex flex-col items-center\">\n          <label class=\"text-xs font-semibold text-gray-600 mb-1 text-center\">Select Employee</label>\n          <select v-model=\"selectedEmployeeId\" @change=\"loadEmployeeData\" class=\"border border-blue-400 rounded w-full px-2 py-3 text-xs\">\n            <option value=\"\">-- Select Employee --</option>\n            <option v-for=\"emp in payrollData\" :key=\"emp.employeeId\" :value=\"emp.employeeId\">\n              {{ getEmployeeName(emp.employeeId) }} (ID: {{ emp.employeeId }})\n            </option>\n          </select>\n        </div>\n        <div class=\"flex flex-col items-center\">\n          <label class=\"text-xs font-semibold text-gray-600 mb-1 text-center\">User ID</label>\n          <input v-model=\"employeeInfo.userId\" placeholder=\"Enter User ID\" class=\"border border-blue-400 rounded w-full px-2 py-3 text-xs\" />\n        </div>\n        <div class=\"flex flex-col items-center\">\n          <label class=\"text-xs font-semibold text-gray-600 mb-1 text-center\">Employee Name</label>\n          <input v-model=\"employeeInfo.employeeName\" placeholder=\"Enter Employee Name\" class=\"border border-blue-400 rounded w-full px-2 py-3 text-xs\" />\n        </div>\n        <div class=\"flex flex-col items-center\">\n          <label class=\"text-xs font-semibold text-gray-600 mb-1 text-center\">Pay Period</label>\n          <input v-model=\"employeeInfo.payPeriod\" class=\"border border-blue-400 rounded w-full px-2 py-3 text-xs\" />\n        </div>\n        <div class=\"flex flex-col items-center\">\n          <label class=\"text-xs font-semibold text-gray-600 mb-1 text-center\">Leave Deductions (Days)</label>\n          <input v-model.number=\"employeeInfo.leaveDeductions\" type=\"number\" min=\"0\" step=\"1\" placeholder=\"0\" readonly class=\"border border-blue-400 bg-gray-100 text-gray-600 rounded w-full px-2 py-3 text-xs\" />\n        </div>\n      </div>\n\n      <div class=\"flex flex-col sm:flex-row justify-between items-center mb-4 gap-4\">\n        <h1 class=\"text-2xl font-bold text-gray-700\">Monthly Payroll</h1>\n        <button @click=\"downloadPayslip\" class=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded shadow w-full sm:w-auto\">Download Payslip</button>\n      </div>\n\n      <div class=\"overflow-auto\">\n        <table class=\"w-full border border-gray-300 text-sm\">\n          <thead class=\"bg-gray-200 text-gray-700\">\n            <tr>\n              <th class=\"p-2 border\">Worked</th>\n              <th class=\"p-2 border\">Day</th>\n              <th class=\"p-2 border\">Date</th>\n              <th class=\"p-2 border\">Regular Hours</th>\n              <th class=\"p-2 border\">Rate Per Hour</th>\n              <th class=\"p-2 border\">Total Salary</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(day, index) in days\" :key=\"index\" class=\"hover:bg-gray-50\">\n              <td class=\"p-2 border\">\n                <input v-if=\"day.name!=''\" type=\"checkbox\" v-model=\"day.worked\" class=\"form-checkbox h-4 w-4 text-blue-600\" />\n              </td>\n              <td class=\"p-2 border\">{{ day.name }}</td>\n              <td class=\"p-2 border\">{{ day.date }}</td>\n              <td class=\"p-2 border\">\n                <input v-if=\"day.name!=''\" type=\"number\" v-model.number=\"day.regular\" min=\"0\" class=\"w-14 px-2 py-2 border rounded text-xs\" />\n              </td>\n              <td class=\"p-2 border\">\n                <input v-if=\"day.name!=''\" type=\"number\" v-model.number=\"day.rate\" min=\"412.61\" max=\"412.61\" class=\"w-16 px-2 py-2 border rounded text-xs\" />\n              </td>\n              <td class=\"p-2 border\">\n                <span v-if=\"day.name!=''\">{{ day.worked ? (day.regular * day.rate).toFixed(2) : '0.00' }}</span>\n              </td>\n            </tr>\n          </tbody>\n          <tfoot class=\"bg-gray-100\">\n            <tr>\n              <th colspan=\"3\" class=\"p-2 border\"></th>\n              <th class=\"p-2 border\">{{ totalRegularHours }}</th>\n              <th class=\"p-2 border\">Monthly Total</th>\n              <th class=\"p-2 border\">{{ totalSalary.toFixed(2) }}</th>\n            </tr>\n            <tr v-if=\"employeeInfo.leaveDeductions > 0\">\n              <th colspan=\"5\" class=\"p-2 border\">Leave Deductions ({{ employeeInfo.leaveDeductions }} days)</th>\n              <th class=\"p-2 border\">-{{ leaveDeductionAmount.toFixed(2) }}</th>\n            </tr>\n            <tr>\n              <th colspan=\"5\" class=\"p-2 border\">Net Salary</th>\n              <th class=\"p-2 border\">{{ netSalary.toFixed(2) }}</th>\n            </tr>\n          </tfoot>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport jsPDF from \"jspdf\";\n\nexport default {\n  methods: {\n    downloadPayslip() {\n      const doc = new jsPDF();\n      const logoImg = new Image();\n      logoImg.src = '/Logo.png';\n      logoImg.onload = () => {\n        doc.addImage(logoImg, 'PNG', 15, 10, 30, 30);\n\n        doc.setFontSize(16);\n        doc.text('Payslip', 105, 20, null, null, 'center');\n\n        doc.setFontSize(12);\n        doc.text(`Employee: ${this.employeeInfo.employeeName}`, 15, 50);\n        doc.text(`Pay Period: ${this.employeeInfo.payPeriod}`, 15, 60);\n        doc.text(`Net Salary: R${this.netSalary.toFixed(2)}`, 15, 70);\n\n        doc.save(`${this.employeeInfo.employeeName}_Payslip.pdf`);\n      };\n    },\n  },\n};\n</script>\n\n<style scoped>\n@media (max-width: 1024px) {\n  .responsive-grid {\n    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;\n  }\n}\n\n@media (max-width: 768px) {\n  .responsive-grid {\n    grid-template-columns: repeat(1, minmax(0, 1fr)) !important;\n  }\n\n  table {\n    font-size: 0.75rem;\n  }\n\n  input, select {\n    font-size: 0.75rem;\n  }\n\n  button {\n    width: 100%;\n    margin-top: 0.5rem;\n  }\n}\n</style>\n"],"mappings":"AAyFA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,OAAO,EAAE;IACPC,eAAeA,CAAA,EAAG;MAChB,MAAMC,GAAE,GAAI,IAAIH,KAAK,CAAC,CAAC;MACvB,MAAMI,OAAM,GAAI,IAAIC,KAAK,CAAC,CAAC;MAC3BD,OAAO,CAACE,GAAE,GAAI,WAAW;MACzBF,OAAO,CAACG,MAAK,GAAI,MAAM;QACrBJ,GAAG,CAACK,QAAQ,CAACJ,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QAE5CD,GAAG,CAACM,WAAW,CAAC,EAAE,CAAC;QACnBN,GAAG,CAACO,IAAI,CAAC,SAAS,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,CAAC;QAElDP,GAAG,CAACM,WAAW,CAAC,EAAE,CAAC;QACnBN,GAAG,CAACO,IAAI,CAAC,aAAa,IAAI,CAACC,YAAY,CAACC,YAAY,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QAC/DT,GAAG,CAACO,IAAI,CAAC,eAAe,IAAI,CAACC,YAAY,CAACE,SAAS,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QAC9DV,GAAG,CAACO,IAAI,CAAC,gBAAgB,IAAI,CAACI,SAAS,CAACC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QAE7DZ,GAAG,CAACa,IAAI,CAAC,GAAG,IAAI,CAACL,YAAY,CAACC,YAAY,cAAc,CAAC;MAC3D,CAAC;IACH;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}