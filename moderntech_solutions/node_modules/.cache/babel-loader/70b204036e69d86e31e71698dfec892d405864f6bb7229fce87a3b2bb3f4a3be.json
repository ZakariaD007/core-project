{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport jsPDF from \"jspdf\";\nexport default {\n  data() {\n    return {\n      selectedEmployeeId: '',\n      employeeInfo: {\n        userId: '',\n        employeeName: '',\n        payPeriod: '2025-06-01 to 2025-06-30',\n        leaveDeductions: 0\n      },\n      days: [{\n        name: \"Mon\",\n        date: \"2025-06-02\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Tue\",\n        date: \"2025-06-03\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Wed\",\n        date: \"2025-06-04\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Thu\",\n        date: \"2025-06-05\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Fri\",\n        date: \"2025-06-06\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Mon\",\n        date: \"2025-06-09\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Tue\",\n        date: \"2025-06-10\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Wed\",\n        date: \"2025-06-11\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Thu\",\n        date: \"2025-06-12\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Fri\",\n        date: \"2025-06-13\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Mon\",\n        date: \"2025-06-16\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Tue\",\n        date: \"2025-06-17\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Wed\",\n        date: \"2025-06-18\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Thu\",\n        date: \"2025-06-19\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Fri\",\n        date: \"2025-06-20\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Mon\",\n        date: \"2025-06-23\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Tue\",\n        date: \"2025-06-24\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Wed\",\n        date: \"2025-06-25\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Thu\",\n        date: \"2025-06-26\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }, {\n        name: \"Fri\",\n        date: \"2025-06-27\",\n        worked: false,\n        regular: 0,\n        rate: 412.61\n      }],\n      payrollData: [{\n        \"employeeId\": 1,\n        \"hoursWorked\": 160,\n        \"leaveDeductions\": 8,\n        \"finalSalary\": 69500\n      }, {\n        \"employeeId\": 2,\n        \"hoursWorked\": 150,\n        \"leaveDeductions\": 10,\n        \"finalSalary\": 79000\n      }, {\n        \"employeeId\": 3,\n        \"hoursWorked\": 170,\n        \"leaveDeductions\": 4,\n        \"finalSalary\": 54800\n      }, {\n        \"employeeId\": 4,\n        \"hoursWorked\": 165,\n        \"leaveDeductions\": 6,\n        \"finalSalary\": 59700\n      }, {\n        \"employeeId\": 5,\n        \"hoursWorked\": 158,\n        \"leaveDeductions\": 5,\n        \"finalSalary\": 57850\n      }, {\n        \"employeeId\": 6,\n        \"hoursWorked\": 168,\n        \"leaveDeductions\": 2,\n        \"finalSalary\": 64800\n      }, {\n        \"employeeId\": 7,\n        \"hoursWorked\": 175,\n        \"leaveDeductions\": 3,\n        \"finalSalary\": 71800\n      }, {\n        \"employeeId\": 8,\n        \"hoursWorked\": 160,\n        \"leaveDeductions\": 0,\n        \"finalSalary\": 56000\n      }, {\n        \"employeeId\": 9,\n        \"hoursWorked\": 155,\n        \"leaveDeductions\": 5,\n        \"finalSalary\": 61500\n      }, {\n        \"employeeId\": 10,\n        \"hoursWorked\": 162,\n        \"leaveDeductions\": 4,\n        \"finalSalary\": 57750\n      }],\n      employeeInformation: [{\n        \"employeeId\": 1,\n        \"name\": \"Sibongile Nkosi\",\n        \"position\": \"Software Engineer\",\n        \"department\": \"Development\",\n        \"salary\": 70000,\n        \"employmentHistory\": \"Joined in 2015, promoted to Senior in 2018\",\n        \"contact\": \"sibongile.nkosi@moderntech.com\"\n      }, {\n        \"employeeId\": 2,\n        \"name\": \"Lungile Moyo\",\n        \"position\": \"HR Manager\",\n        \"department\": \"HR\",\n        \"salary\": 80000,\n        \"employmentHistory\": \"Joined in 2013, promoted to Manager in 2017\",\n        \"contact\": \"lungile.moyo@moderntech.com\"\n      }, {\n        \"employeeId\": 3,\n        \"name\": \"Thabo Molefe\",\n        \"position\": \"Quality Analyst\",\n        \"department\": \"QA\",\n        \"salary\": 55000,\n        \"employmentHistory\": \"Joined in 2018\",\n        \"contact\": \"thabo.molefe@moderntech.com\"\n      }, {\n        \"employeeId\": 4,\n        \"name\": \"Keshav Naidoo\",\n        \"position\": \"Sales Representative\",\n        \"department\": \"Sales\",\n        \"salary\": 60000,\n        \"employmentHistory\": \"Joined in 2020\",\n        \"contact\": \"keshav.naidoo@moderntech.com\"\n      }, {\n        \"employeeId\": 5,\n        \"name\": \"Zanele Khumalo\",\n        \"position\": \"Marketing Specialist\",\n        \"department\": \"Marketing\",\n        \"salary\": 58000,\n        \"employmentHistory\": \"Joined in 2019\",\n        \"contact\": \"zanele.khumalo@moderntech.com\"\n      }, {\n        \"employeeId\": 6,\n        \"name\": \"Sipho Zulu\",\n        \"position\": \"UI/UX Designer\",\n        \"department\": \"Design\",\n        \"salary\": 65000,\n        \"employmentHistory\": \"Joined in 2016\",\n        \"contact\": \"sipho.zulu@moderntech.com\"\n      }, {\n        \"employeeId\": 7,\n        \"name\": \"Naledi Moeketsi\",\n        \"position\": \"DevOps Engineer\",\n        \"department\": \"IT\",\n        \"salary\": 72000,\n        \"employmentHistory\": \"Joined in 2017\",\n        \"contact\": \"naledi.moeketsi@moderntech.com\"\n      }, {\n        \"employeeId\": 8,\n        \"name\": \"Farai Gumbo\",\n        \"position\": \"Content Strategist\",\n        \"department\": \"Marketing\",\n        \"salary\": 56000,\n        \"employmentHistory\": \"Joined in 2021\",\n        \"contact\": \"farai.gumbo@moderntech.com\"\n      }, {\n        \"employeeId\": 9,\n        \"name\": \"Karabo Dlamini\",\n        \"position\": \"Accountant\",\n        \"department\": \"Finance\",\n        \"salary\": 62000,\n        \"employmentHistory\": \"Joined in 2018\",\n        \"contact\": \"karabo.dlamini@moderntech.com\"\n      }, {\n        \"employeeId\": 10,\n        \"name\": \"Fatima Patel\",\n        \"position\": \"Customer Support Lead\",\n        \"department\": \"Support\",\n        \"salary\": 58000,\n        \"employmentHistory\": \"Joined in 2016\",\n        \"contact\": \"fatima.patel@moderntech.com\"\n      }]\n    };\n  },\n  computed: {\n    totalRegularHours() {\n      return this.days.reduce((sum, day) => day.worked ? sum + day.regular : sum, 0);\n    },\n    totalSalary() {\n      return this.days.reduce((sum, day) => {\n        if (day.worked) {\n          return sum + day.regular * day.rate;\n        }\n        return sum;\n      }, 0);\n    },\n    dailyRate() {\n      // Calculate average daily rate from worked days\n      const workedDays = this.days.filter(day => day.worked && day.rate > 0);\n      if (workedDays.length === 0) return 0;\n      return workedDays[0].rate * 8; // Assuming 8 hours per day\n    },\n    leaveDeductionAmount() {\n      return (this.employeeInfo.leaveDeductions || 0) * this.dailyRate;\n    },\n    netSalary() {\n      return this.totalSalary - this.leaveDeductionAmount;\n    }\n  },\n  methods: {\n    getEmployeeName(employeeId) {\n      const employee = this.employeeInformation.find(emp => emp.employeeId === employeeId);\n      return employee ? employee.name : `Employee #${employeeId}`;\n    },\n    loadEmployeeData() {\n      if (!this.selectedEmployeeId) {\n        // Reset form if no employee selected\n        this.employeeInfo = {\n          userId: '',\n          employeeName: '',\n          payPeriod: '2025-06-01 to 2025-06-30',\n          leaveDeductions: 0\n        };\n        this.resetDays();\n        return;\n      }\n      const employee = this.payrollData.find(emp => emp.employeeId == this.selectedEmployeeId);\n      const employeeDetails = this.employeeInformation.find(emp => emp.employeeId == this.selectedEmployeeId);\n      if (employee && employeeDetails) {\n        // Auto-populate employee info\n        this.employeeInfo.userId = `EMP${String(employee.employeeId).padStart(3, '0')}`;\n        this.employeeInfo.employeeName = employeeDetails.name;\n        this.employeeInfo.leaveDeductions = employee.leaveDeductions;\n\n        // Calculate and populate work days based on hours worked\n        this.populateWorkDays(employee.hoursWorked, employee.leaveDeductions);\n      }\n    },\n    populateWorkDays(totalHours, leaveDays) {\n      // Reset all days first\n      this.resetDays();\n\n      // Calculate how many 8-hour days were worked\n      const fullDaysWorked = Math.floor(totalHours / 8);\n      const remainingHours = totalHours % 8;\n      let daysPopulated = 0;\n      let leaveDaysSet = 0;\n\n      // Mark working days and leave days\n      for (let i = 0; i < this.days.length && daysPopulated < fullDaysWorked + (remainingHours > 0 ? 1 : 0) + leaveDays; i++) {\n        if (this.days[i].name !== '') {\n          if (leaveDaysSet < leaveDays && Math.random() < 0.3) {\n            // Randomly distribute leave days (30% chance per day)\n            this.days[i].worked = false;\n            this.days[i].regular = 0;\n            leaveDaysSet++;\n          } else if (daysPopulated < fullDaysWorked) {\n            // Full 8-hour days\n            this.days[i].worked = true;\n            this.days[i].regular = 8;\n            daysPopulated++;\n          } else if (daysPopulated === fullDaysWorked && remainingHours > 0) {\n            // Partial day with remaining hours\n            this.days[i].worked = true;\n            this.days[i].regular = remainingHours;\n            daysPopulated++;\n          }\n        }\n      }\n\n      // If we haven't set enough leave days, set them at the end\n      for (let i = this.days.length - 1; i >= 0 && leaveDaysSet < leaveDays; i--) {\n        if (this.days[i].name !== '' && this.days[i].worked) {\n          this.days[i].worked = false;\n          this.days[i].regular = 0;\n          leaveDaysSet++;\n        }\n      }\n    },\n    resetDays() {\n      this.days.forEach(day => {\n        if (day.name !== '') {\n          day.worked = false;\n          day.regular = 0;\n        }\n      });\n    },\n    async downloadPayslip() {\n      const workedDays = this.days.filter(day => day.worked && day.name !== '');\n      const currentDate = new Date().toLocaleDateString();\n      const doc = new jsPDF();\n\n      // Path to Logo.png in public folder\n      const logoUrl = `${window.location.origin}/Logo.png`;\n\n      // Helper to load image as base64\n      function getBase64Image(url) {\n        return new Promise((resolve, reject) => {\n          const img = new window.Image();\n          img.crossOrigin = \"anonymous\";\n          img.onload = function () {\n            const canvas = document.createElement('canvas');\n            canvas.width = img.width;\n            canvas.height = img.height;\n            const ctx = canvas.getContext('2d');\n            ctx.drawImage(img, 0, 0);\n            resolve(canvas.toDataURL('image/png'));\n          };\n          img.onerror = reject;\n          img.src = url;\n        });\n      }\n\n      // Draw PDF after logo loads\n      const drawPdf = logoDataUrl => {\n        // Draw logo centered at the top (adjust width/height as needed)\n        if (logoDataUrl) {\n          // Decrease width to 18 (was 25), adjust x to keep it centered\n          doc.addImage(logoDataUrl, 'PNG', 96, 5, 18, 12);\n        }\n\n        // Header\n        doc.setFontSize(20);\n        doc.setTextColor(40, 73, 244);\n        doc.text(\"Monthly Payslip\", 105, 28, {\n          align: \"center\"\n        });\n\n        // Sub-header\n        doc.setFontSize(11);\n        doc.setTextColor(100, 100, 100);\n        doc.text(`Generated: ${currentDate}`, 105, 36, {\n          align: \"center\"\n        });\n\n        // Employee Info Box\n        doc.setDrawColor(66, 153, 225);\n        doc.setLineWidth(0.5);\n        doc.roundedRect(10, 42, 190, 28, 3, 3);\n        doc.setFontSize(12);\n        doc.setTextColor(0, 0, 0);\n        doc.text(\"Employee Information\", 15, 50);\n        doc.setFontSize(11);\n        doc.text(`User ID: ${this.employeeInfo.userId || 'Not specified'}`, 15, 57);\n        doc.text(`Employee Name: ${this.employeeInfo.employeeName || 'Not specified'}`, 70, 57);\n        doc.text(`Pay Period: ${this.employeeInfo.payPeriod}`, 15, 64);\n        if (this.employeeInfo.leaveDeductions > 0) {\n          doc.text(`Leave Deductions: ${this.employeeInfo.leaveDeductions} days`, 140, 64);\n        }\n\n        // Timesheet Section\n        let y = 78;\n        doc.setFontSize(13);\n        doc.setTextColor(40, 73, 244);\n        doc.text(\"Timesheet - June 2025\", 15, y);\n        y += 6;\n        doc.setDrawColor(220, 220, 220);\n        doc.line(10, y, 200, y);\n        y += 6;\n        doc.setFontSize(11);\n        doc.setTextColor(0, 0, 0);\n        if (workedDays.length === 0) {\n          doc.text(\"No days worked.\", 15, y);\n          y += 8;\n        } else {\n          doc.text(\"Day\", 15, y);\n          doc.text(\"Date\", 40, y);\n          doc.text(\"Hours\", 75, y);\n          doc.text(\"Rate\", 100, y);\n          doc.text(\"Total\", 130, y);\n          y += 6;\n          doc.setDrawColor(220, 220, 220);\n          doc.line(10, y, 200, y);\n          y += 6;\n          workedDays.forEach(day => {\n            doc.text(day.name, 15, y);\n            doc.text(day.date, 40, y);\n            doc.text(String(day.regular), 75, y);\n            doc.text(`R${day.rate}`, 100, y);\n            doc.text(`R${(day.regular * day.rate).toFixed(2)}`, 130, y);\n            y += 7;\n            if (y > 270) {\n              doc.addPage();\n              y = 20;\n            }\n          });\n        }\n\n        // Summary Section\n        y += 8;\n        doc.setFontSize(13);\n        doc.setTextColor(40, 73, 244);\n        doc.text(\"Summary\", 15, y);\n        y += 6;\n        doc.setDrawColor(220, 220, 220);\n        doc.line(10, y, 200, y);\n        y += 8;\n        doc.setFontSize(11);\n        doc.setTextColor(0, 0, 0);\n        doc.text(`Total Hours Worked: ${this.totalRegularHours}`, 15, y);\n        y += 7;\n        doc.text(`Hourly Rate: R${workedDays[0]?.rate || 412.61}`, 15, y);\n        y += 7;\n        doc.text(`Gross Pay: R${this.totalSalary.toFixed(2)}`, 15, y);\n        y += 7;\n        if (this.employeeInfo.leaveDeductions > 0) {\n          doc.text(`Leave Deductions: ${this.employeeInfo.leaveDeductions} days (-R${this.leaveDeductionAmount.toFixed(2)})`, 15, y);\n          y += 7;\n        }\n        doc.setFontSize(12);\n        doc.setTextColor(40, 73, 244);\n        doc.text(`Net Pay: R${this.netSalary.toFixed(2)}`, 15, y);\n\n        // Footer\n        y = 285;\n        doc.setFontSize(10);\n        doc.setTextColor(150, 150, 150);\n        doc.text(\"Generated by Payroll System\", 105, y, {\n          align: \"center\"\n        });\n        doc.save(`Payslip_${this.employeeInfo.employeeName?.replace(/\\s+/g, '_')}_June_2025_${currentDate.replace(/\\//g, '-')}.pdf`);\n      };\n      try {\n        const logoDataUrl = await getBase64Image(logoUrl);\n        drawPdf(logoDataUrl);\n      } catch (e) {\n        drawPdf(null);\n      }\n    }\n  }\n};","map":{"version":3,"names":["jsPDF","data","selectedEmployeeId","employeeInfo","userId","employeeName","payPeriod","leaveDeductions","days","name","date","worked","regular","rate","payrollData","employeeInformation","computed","totalRegularHours","reduce","sum","day","totalSalary","dailyRate","workedDays","filter","length","leaveDeductionAmount","netSalary","methods","getEmployeeName","employeeId","employee","find","emp","loadEmployeeData","resetDays","employeeDetails","String","padStart","populateWorkDays","hoursWorked","totalHours","leaveDays","fullDaysWorked","Math","floor","remainingHours","daysPopulated","leaveDaysSet","i","random","forEach","downloadPayslip","currentDate","Date","toLocaleDateString","doc","logoUrl","window","location","origin","getBase64Image","url","Promise","resolve","reject","img","Image","crossOrigin","onload","canvas","document","createElement","width","height","ctx","getContext","drawImage","toDataURL","onerror","src","drawPdf","logoDataUrl","addImage","setFontSize","setTextColor","text","align","setDrawColor","setLineWidth","roundedRect","y","line","toFixed","addPage","save","replace","e"],"sources":["C:\\Users\\DELL\\Documents\\Exercises\\hr_system\\src\\views\\PayrollView.vue"],"sourcesContent":["<template>\r\n  <div class=\"p-6 bg-gray-100 min-h-screen\">\r\n    <div class=\"bg-white shadow rounded-lg p-6 max-w-7xl mx-auto\">\r\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6\">\r\n        <div class=\"flex flex-col\">\r\n          <label class=\"text-sm font-semibold text-gray-600 mb-1\">Select Employee</label>\r\n          <select v-model=\"selectedEmployeeId\" @change=\"loadEmployeeData\" class=\"border border-blue-400 rounded px-2 py-1 text-sm\">\r\n            <option value=\"\">-- Select Employee --</option>\r\n            <option v-for=\"emp in payrollData\" :key=\"emp.employeeId\" :value=\"emp.employeeId\">\r\n              {{ getEmployeeName(emp.employeeId) }} (ID: {{ emp.employeeId }})\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"flex flex-col\">\r\n          <label class=\"text-sm font-semibold text-gray-600 mb-1\">User ID</label>\r\n          <input v-model=\"employeeInfo.userId\" placeholder=\"Enter User ID\" class=\"border border-blue-400 rounded px-2 py-1 text-sm\" />\r\n        </div>\r\n        <div class=\"flex flex-col\">\r\n          <label class=\"text-sm font-semibold text-gray-600 mb-1\">Employee Name</label>\r\n          <input v-model=\"employeeInfo.employeeName\" placeholder=\"Enter Employee Name\" class=\"border border-blue-400 rounded px-2 py-1 text-sm\" />\r\n        </div>\r\n        <div class=\"flex flex-col\">\r\n          <label class=\"text-sm font-semibold text-gray-600 mb-1\">Pay Period</label>\r\n          <input v-model=\"employeeInfo.payPeriod\" class=\"border border-blue-400 rounded px-2 py-1 text-sm\" />\r\n        </div>\r\n        <div class=\"flex flex-col\">\r\n          <label class=\"text-sm font-semibold text-gray-600 mb-1\">Leave Deductions (Days)</label>\r\n          <input v-model.number=\"employeeInfo.leaveDeductions\" type=\"number\" min=\"0\" step=\"1\" placeholder=\"0\" readonly class=\"border border-blue-400 bg-gray-100 text-gray-600 rounded px-2 py-1 text-sm\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"flex justify-between items-center mb-4\">\r\n        <h1 class=\"text-2xl font-bold text-gray-700\">Monthly Payroll</h1>\r\n        <button @click=\"downloadPayslip\" class=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded shadow\">Download Payslip</button>\r\n      </div>\r\n\r\n      <div class=\"overflow-auto\">\r\n        <table class=\"w-full border border-gray-300 text-sm\">\r\n          <thead class=\"bg-gray-200 text-gray-700\">\r\n            <tr>\r\n              <th class=\"p-2 border\">Worked</th>\r\n              <th class=\"p-2 border\">Day</th>\r\n              <th class=\"p-2 border\">Date</th>\r\n              <th class=\"p-2 border\">Regular Hours</th>\r\n              <th class=\"p-2 border\">Rate Per Hour</th>\r\n              <th class=\"p-2 border\">Total Salary</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"(day, index) in days\" :key=\"index\" class=\"hover:bg-gray-50\">\r\n              <td class=\"p-2 border\">\r\n                <input v-if=\"day.name!=''\" type=\"checkbox\" v-model=\"day.worked\" class=\"form-checkbox h-4 w-4 text-blue-600\" />\r\n              </td>\r\n              <td class=\"p-2 border\">{{ day.name }}</td>\r\n              <td class=\"p-2 border\">{{ day.date }}</td>\r\n              <td class=\"p-2 border\">\r\n                <input v-if=\"day.name!=''\" type=\"number\" v-model.number=\"day.regular\" min=\"0\" class=\"w-16 px-1 py-1 border rounded text-sm\" />\r\n              </td>\r\n              <td class=\"p-2 border\">\r\n                <input v-if=\"day.name!=''\" type=\"number\" v-model.number=\"day.rate\" min=\"412.61\" max=\"412.61\" class=\"w-20 px-1 py-1 border rounded text-sm\" />\r\n              </td>\r\n              <td class=\"p-2 border\">\r\n                <span v-if=\"day.name!=''\">{{ day.worked ? (day.regular * day.rate).toFixed(2) : '0.00' }}</span>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <tfoot class=\"bg-gray-100\">\r\n            <tr>\r\n              <th colspan=\"3\" class=\"p-2 border\"></th>\r\n              <th class=\"p-2 border\">{{ totalRegularHours }}</th>\r\n              <th class=\"p-2 border\">Monthly Total</th>\r\n              <th class=\"p-2 border\">{{ totalSalary.toFixed(2) }}</th>\r\n            </tr>\r\n            <tr v-if=\"employeeInfo.leaveDeductions > 0\">\r\n              <th colspan=\"5\" class=\"p-2 border\">Leave Deductions ({{ employeeInfo.leaveDeductions }} days)</th>\r\n              <th class=\"p-2 border\">-{{ leaveDeductionAmount.toFixed(2) }}</th>\r\n            </tr>\r\n            <tr>\r\n              <th colspan=\"5\" class=\"p-2 border\">Net Salary</th>\r\n              <th class=\"p-2 border\">{{ netSalary.toFixed(2) }}</th>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport jsPDF from \"jspdf\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      selectedEmployeeId: '',\r\n      employeeInfo: {\r\n        userId: '',\r\n        employeeName: '',\r\n        payPeriod: '2025-06-01 to 2025-06-30',\r\n        leaveDeductions: 0\r\n      },\r\n      days: [\r\n        { name: \"Mon\", date: \"2025-06-02\", worked: false, regular: 0, rate: 412.61},\r\n        { name: \"Tue\", date: \"2025-06-03\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Wed\", date: \"2025-06-04\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Thu\", date: \"2025-06-05\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Fri\", date: \"2025-06-06\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Mon\", date: \"2025-06-09\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Tue\", date: \"2025-06-10\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Wed\", date: \"2025-06-11\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Thu\", date: \"2025-06-12\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Fri\", date: \"2025-06-13\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Mon\", date: \"2025-06-16\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Tue\", date: \"2025-06-17\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Wed\", date: \"2025-06-18\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Thu\", date: \"2025-06-19\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Fri\", date: \"2025-06-20\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Mon\", date: \"2025-06-23\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Tue\", date: \"2025-06-24\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Wed\", date: \"2025-06-25\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Thu\", date: \"2025-06-26\", worked: false, regular: 0, rate: 412.61 },\r\n        { name: \"Fri\", date: \"2025-06-27\", worked: false, regular: 0, rate: 412.61 },\r\n      ],\r\n      payrollData: [\r\n        {\r\n            \"employeeId\": 1,\r\n            \"hoursWorked\": 160,\r\n            \"leaveDeductions\": 8,\r\n            \"finalSalary\": 69500\r\n        },\r\n        {\r\n            \"employeeId\": 2,\r\n            \"hoursWorked\": 150,\r\n            \"leaveDeductions\": 10,\r\n            \"finalSalary\": 79000\r\n        },\r\n        {\r\n            \"employeeId\": 3,\r\n            \"hoursWorked\": 170,\r\n            \"leaveDeductions\": 4,\r\n            \"finalSalary\": 54800\r\n        },\r\n        {\r\n            \"employeeId\": 4,\r\n            \"hoursWorked\": 165,\r\n            \"leaveDeductions\": 6,\r\n            \"finalSalary\": 59700\r\n        },\r\n        {\r\n            \"employeeId\": 5,\r\n            \"hoursWorked\": 158,\r\n            \"leaveDeductions\": 5,\r\n            \"finalSalary\": 57850\r\n        },\r\n        {\r\n            \"employeeId\": 6,\r\n            \"hoursWorked\": 168,\r\n            \"leaveDeductions\": 2,\r\n            \"finalSalary\": 64800\r\n        },\r\n        {\r\n            \"employeeId\": 7,\r\n            \"hoursWorked\": 175,\r\n            \"leaveDeductions\": 3,\r\n            \"finalSalary\": 71800\r\n        },\r\n        {\r\n            \"employeeId\": 8,\r\n            \"hoursWorked\": 160,\r\n            \"leaveDeductions\": 0,\r\n            \"finalSalary\": 56000\r\n        },\r\n        {\r\n            \"employeeId\": 9,\r\n            \"hoursWorked\": 155,\r\n            \"leaveDeductions\": 5,\r\n            \"finalSalary\": 61500\r\n        },\r\n        {\r\n            \"employeeId\": 10,\r\n            \"hoursWorked\": 162,\r\n            \"leaveDeductions\": 4,\r\n            \"finalSalary\": 57750\r\n        }\r\n      ],\r\n      employeeInformation: [\r\n        {\r\n            \"employeeId\": 1,\r\n            \"name\": \"Sibongile Nkosi\",\r\n            \"position\": \"Software Engineer\",\r\n            \"department\": \"Development\",\r\n            \"salary\": 70000,\r\n            \"employmentHistory\": \"Joined in 2015, promoted to Senior in 2018\",\r\n            \"contact\": \"sibongile.nkosi@moderntech.com\"\r\n        },\r\n        {\r\n            \"employeeId\": 2,\r\n            \"name\": \"Lungile Moyo\",\r\n            \"position\": \"HR Manager\",\r\n            \"department\": \"HR\",\r\n            \"salary\": 80000,\r\n            \"employmentHistory\": \"Joined in 2013, promoted to Manager in 2017\",\r\n            \"contact\": \"lungile.moyo@moderntech.com\"\r\n        },\r\n        {\r\n            \"employeeId\": 3,\r\n            \"name\": \"Thabo Molefe\",\r\n            \"position\": \"Quality Analyst\",\r\n            \"department\": \"QA\",\r\n            \"salary\": 55000,\r\n            \"employmentHistory\": \"Joined in 2018\",\r\n            \"contact\": \"thabo.molefe@moderntech.com\"\r\n        },\r\n        {\r\n            \"employeeId\": 4,\r\n            \"name\": \"Keshav Naidoo\",\r\n            \"position\": \"Sales Representative\",\r\n            \"department\": \"Sales\",\r\n            \"salary\": 60000,\r\n            \"employmentHistory\": \"Joined in 2020\",\r\n            \"contact\": \"keshav.naidoo@moderntech.com\"\r\n        },\r\n        {\r\n            \"employeeId\": 5,\r\n            \"name\": \"Zanele Khumalo\",\r\n            \"position\": \"Marketing Specialist\",\r\n            \"department\": \"Marketing\",\r\n            \"salary\": 58000,\r\n            \"employmentHistory\": \"Joined in 2019\",\r\n            \"contact\": \"zanele.khumalo@moderntech.com\"\r\n        },\r\n        {\r\n            \"employeeId\": 6,\r\n            \"name\": \"Sipho Zulu\",\r\n            \"position\": \"UI/UX Designer\",\r\n            \"department\": \"Design\",\r\n            \"salary\": 65000,\r\n            \"employmentHistory\": \"Joined in 2016\",\r\n            \"contact\": \"sipho.zulu@moderntech.com\"\r\n        },\r\n        {\r\n            \"employeeId\": 7,\r\n            \"name\": \"Naledi Moeketsi\",\r\n            \"position\": \"DevOps Engineer\",\r\n            \"department\": \"IT\",\r\n            \"salary\": 72000,\r\n            \"employmentHistory\": \"Joined in 2017\",\r\n            \"contact\": \"naledi.moeketsi@moderntech.com\"\r\n        },\r\n        {\r\n            \"employeeId\": 8,\r\n            \"name\": \"Farai Gumbo\",\r\n            \"position\": \"Content Strategist\",\r\n            \"department\": \"Marketing\",\r\n            \"salary\": 56000,\r\n            \"employmentHistory\": \"Joined in 2021\",\r\n            \"contact\": \"farai.gumbo@moderntech.com\"\r\n        },\r\n        {\r\n            \"employeeId\": 9,\r\n            \"name\": \"Karabo Dlamini\",\r\n            \"position\": \"Accountant\",\r\n            \"department\": \"Finance\",\r\n            \"salary\": 62000,\r\n            \"employmentHistory\": \"Joined in 2018\",\r\n            \"contact\": \"karabo.dlamini@moderntech.com\"\r\n        },\r\n        {\r\n            \"employeeId\": 10,\r\n            \"name\": \"Fatima Patel\",\r\n            \"position\": \"Customer Support Lead\",\r\n            \"department\": \"Support\",\r\n            \"salary\": 58000,\r\n            \"employmentHistory\": \"Joined in 2016\",\r\n            \"contact\": \"fatima.patel@moderntech.com\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    totalRegularHours() {\r\n      return this.days.reduce((sum, day) => day.worked ? sum + day.regular : sum, 0);\r\n    },\r\n    totalSalary() {\r\n      return this.days.reduce((sum, day) => {\r\n        if (day.worked) {\r\n          return sum + (day.regular * day.rate);\r\n        }\r\n        return sum;\r\n      }, 0);\r\n    },\r\n    dailyRate() {\r\n      // Calculate average daily rate from worked days\r\n      const workedDays = this.days.filter(day => day.worked && day.rate > 0);\r\n      if (workedDays.length === 0) return 0;\r\n      return workedDays[0].rate * 8; // Assuming 8 hours per day\r\n    },\r\n    leaveDeductionAmount() {\r\n      return (this.employeeInfo.leaveDeductions || 0) * this.dailyRate;\r\n    },\r\n    netSalary() {\r\n      return this.totalSalary - this.leaveDeductionAmount;\r\n    }\r\n  },\r\n  methods: {\r\n    getEmployeeName(employeeId) {\r\n      const employee = this.employeeInformation.find(emp => emp.employeeId === employeeId);\r\n      return employee ? employee.name : `Employee #${employeeId}`;\r\n    },\r\n    \r\n    loadEmployeeData() {\r\n      if (!this.selectedEmployeeId) {\r\n        // Reset form if no employee selected\r\n        this.employeeInfo = {\r\n          userId: '',\r\n          employeeName: '',\r\n          payPeriod: '2025-06-01 to 2025-06-30',\r\n          leaveDeductions: 0\r\n        };\r\n        this.resetDays();\r\n        return;\r\n      }\r\n\r\n      const employee = this.payrollData.find(emp => emp.employeeId == this.selectedEmployeeId);\r\n      const employeeDetails = this.employeeInformation.find(emp => emp.employeeId == this.selectedEmployeeId);\r\n      \r\n      if (employee && employeeDetails) {\r\n        // Auto-populate employee info\r\n        this.employeeInfo.userId = `EMP${String(employee.employeeId).padStart(3, '0')}`;\r\n        this.employeeInfo.employeeName = employeeDetails.name;\r\n        this.employeeInfo.leaveDeductions = employee.leaveDeductions;\r\n        \r\n        // Calculate and populate work days based on hours worked\r\n        this.populateWorkDays(employee.hoursWorked, employee.leaveDeductions);\r\n      }\r\n    },\r\n    \r\n    populateWorkDays(totalHours, leaveDays) {\r\n      // Reset all days first\r\n      this.resetDays();\r\n      \r\n      // Calculate how many 8-hour days were worked\r\n      const fullDaysWorked = Math.floor(totalHours / 8);\r\n      const remainingHours = totalHours % 8;\r\n      \r\n      let daysPopulated = 0;\r\n      let leaveDaysSet = 0;\r\n      \r\n      // Mark working days and leave days\r\n      for (let i = 0; i < this.days.length && (daysPopulated < fullDaysWorked + (remainingHours > 0 ? 1 : 0) + leaveDays); i++) {\r\n        if (this.days[i].name !== '') {\r\n          if (leaveDaysSet < leaveDays && Math.random() < 0.3) {\r\n            // Randomly distribute leave days (30% chance per day)\r\n            this.days[i].worked = false;\r\n            this.days[i].regular = 0;\r\n            leaveDaysSet++;\r\n          } else if (daysPopulated < fullDaysWorked) {\r\n            // Full 8-hour days\r\n            this.days[i].worked = true;\r\n            this.days[i].regular = 8;\r\n            daysPopulated++;\r\n          } else if (daysPopulated === fullDaysWorked && remainingHours > 0) {\r\n            // Partial day with remaining hours\r\n            this.days[i].worked = true;\r\n            this.days[i].regular = remainingHours;\r\n            daysPopulated++;\r\n          }\r\n        }\r\n      }\r\n      \r\n      // If we haven't set enough leave days, set them at the end\r\n      for (let i = this.days.length - 1; i >= 0 && leaveDaysSet < leaveDays; i--) {\r\n        if (this.days[i].name !== '' && this.days[i].worked) {\r\n          this.days[i].worked = false;\r\n          this.days[i].regular = 0;\r\n          leaveDaysSet++;\r\n        }\r\n      }\r\n    },\r\n    \r\n    resetDays() {\r\n      this.days.forEach(day => {\r\n        if (day.name !== '') {\r\n          day.worked = false;\r\n          day.regular = 0;\r\n        }\r\n      });\r\n    },\r\n    \r\n    async downloadPayslip() {\r\n      const workedDays = this.days.filter(day => day.worked && day.name !== '');\r\n      const currentDate = new Date().toLocaleDateString();\r\n      const doc = new jsPDF();\r\n\r\n      // Path to Logo.png in public folder\r\n      const logoUrl = `${window.location.origin}/Logo.png`;\r\n\r\n      // Helper to load image as base64\r\n      function getBase64Image(url) {\r\n        return new Promise((resolve, reject) => {\r\n          const img = new window.Image();\r\n          img.crossOrigin = \"anonymous\";\r\n          img.onload = function () {\r\n            const canvas = document.createElement('canvas');\r\n            canvas.width = img.width;\r\n            canvas.height = img.height;\r\n            const ctx = canvas.getContext('2d');\r\n            ctx.drawImage(img, 0, 0);\r\n            resolve(canvas.toDataURL('image/png'));\r\n          };\r\n          img.onerror = reject;\r\n          img.src = url;\r\n        });\r\n      }\r\n\r\n      // Draw PDF after logo loads\r\n      const drawPdf = (logoDataUrl) => {\r\n        // Draw logo centered at the top (adjust width/height as needed)\r\n        if (logoDataUrl) {\r\n          // Decrease width to 18 (was 25), adjust x to keep it centered\r\n          doc.addImage(logoDataUrl, 'PNG', 96, 5, 18, 12);\r\n        }\r\n\r\n        // Header\r\n        doc.setFontSize(20);\r\n        doc.setTextColor(40, 73, 244);\r\n        doc.text(\"Monthly Payslip\", 105, 28, { align: \"center\" });\r\n\r\n        // Sub-header\r\n        doc.setFontSize(11);\r\n        doc.setTextColor(100, 100, 100);\r\n        doc.text(`Generated: ${currentDate}`, 105, 36, { align: \"center\" });\r\n\r\n        // Employee Info Box\r\n        doc.setDrawColor(66, 153, 225);\r\n        doc.setLineWidth(0.5);\r\n        doc.roundedRect(10, 42, 190, 28, 3, 3);\r\n        doc.setFontSize(12);\r\n        doc.setTextColor(0, 0, 0);\r\n        doc.text(\"Employee Information\", 15, 50);\r\n        doc.setFontSize(11);\r\n        doc.text(`User ID: ${this.employeeInfo.userId || 'Not specified'}`, 15, 57);\r\n        doc.text(`Employee Name: ${this.employeeInfo.employeeName || 'Not specified'}`, 70, 57);\r\n        doc.text(`Pay Period: ${this.employeeInfo.payPeriod}`, 15, 64);\r\n        if (this.employeeInfo.leaveDeductions > 0) {\r\n          doc.text(`Leave Deductions: ${this.employeeInfo.leaveDeductions} days`, 140, 64);\r\n        }\r\n\r\n        // Timesheet Section\r\n        let y = 78;\r\n        doc.setFontSize(13);\r\n        doc.setTextColor(40, 73, 244);\r\n        doc.text(\"Timesheet - June 2025\", 15, y);\r\n        y += 6;\r\n        doc.setDrawColor(220, 220, 220);\r\n        doc.line(10, y, 200, y);\r\n        y += 6;\r\n\r\n        doc.setFontSize(11);\r\n        doc.setTextColor(0, 0, 0);\r\n        if (workedDays.length === 0) {\r\n          doc.text(\"No days worked.\", 15, y);\r\n          y += 8;\r\n        } else {\r\n          doc.text(\"Day\", 15, y);\r\n          doc.text(\"Date\", 40, y);\r\n          doc.text(\"Hours\", 75, y);\r\n          doc.text(\"Rate\", 100, y);\r\n          doc.text(\"Total\", 130, y);\r\n          y += 6;\r\n          doc.setDrawColor(220, 220, 220);\r\n          doc.line(10, y, 200, y);\r\n          y += 6;\r\n          workedDays.forEach(day => {\r\n            doc.text(day.name, 15, y);\r\n            doc.text(day.date, 40, y);\r\n            doc.text(String(day.regular), 75, y);\r\n            doc.text(`R${day.rate}`, 100, y);\r\n            doc.text(`R${(day.regular * day.rate).toFixed(2)}`, 130, y);\r\n            y += 7;\r\n            if (y > 270) {\r\n              doc.addPage();\r\n              y = 20;\r\n            }\r\n          });\r\n        }\r\n\r\n        // Summary Section\r\n        y += 8;\r\n        doc.setFontSize(13);\r\n        doc.setTextColor(40, 73, 244);\r\n        doc.text(\"Summary\", 15, y);\r\n        y += 6;\r\n        doc.setDrawColor(220, 220, 220);\r\n        doc.line(10, y, 200, y);\r\n        y += 8;\r\n        doc.setFontSize(11);\r\n        doc.setTextColor(0, 0, 0);\r\n        doc.text(`Total Hours Worked: ${this.totalRegularHours}`, 15, y);\r\n        y += 7;\r\n        doc.text(`Hourly Rate: R${workedDays[0]?.rate || 412.61}`, 15, y);\r\n        y += 7;\r\n        doc.text(`Gross Pay: R${this.totalSalary.toFixed(2)}`, 15, y);\r\n        y += 7;\r\n        if (this.employeeInfo.leaveDeductions > 0) {\r\n          doc.text(`Leave Deductions: ${this.employeeInfo.leaveDeductions} days (-R${this.leaveDeductionAmount.toFixed(2)})`, 15, y);\r\n          y += 7;\r\n        }\r\n        doc.setFontSize(12);\r\n        doc.setTextColor(40, 73, 244);\r\n        doc.text(`Net Pay: R${this.netSalary.toFixed(2)}`, 15, y);\r\n\r\n        // Footer\r\n        y = 285;\r\n        doc.setFontSize(10);\r\n        doc.setTextColor(150, 150, 150);\r\n        doc.text(\"Generated by Payroll System\", 105, y, { align: \"center\" });\r\n\r\n        doc.save(`Payslip_${this.employeeInfo.employeeName?.replace(/\\s+/g, '_')}_June_2025_${currentDate.replace(/\\//g, '-')}.pdf`);\r\n      };\r\n\r\n      try {\r\n        const logoDataUrl = await getBase64Image(logoUrl);\r\n        drawPdf(logoDataUrl);\r\n      } catch (e) {\r\n        drawPdf(null);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.employee-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  background-color: #f8f9fa;\r\n  padding: 15px;\r\n  border-radius: 6px;\r\n  margin:0 auto 20px auto;\r\n  border: 1px solid #dee2e6;\r\n  max-width:fit-content;\r\n}\r\n\r\n.employee-row {\r\n  display: flex;\r\n  gap: 20px;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n}\r\n\r\n.employee-field {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  align-items: center;\r\n}\r\n\r\n.employee-field label {\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  color: #6c7883;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.employee-field select {\r\n  padding: 6px 10px;\r\n  border: 1px solid #419af4;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  min-width: 200px;\r\n  background-color: white;\r\n}\r\n\r\n.employee-field input {\r\n  padding: 6px 10px;\r\n  border: 1px solid #419af4;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  min-width: 150px;\r\n}\r\n\r\n.employee-field input[readonly] {\r\n  background-color: #f8f9fa;\r\n  color: #6c757d;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-top: 2px;\r\n}\r\nth, td {\r\n  padding: 10px;\r\n  text-align: center;\r\n  border: 1px solid #ddd;\r\n}\r\ninput[type=\"number\"] {\r\n  width: 80px;\r\n}\r\nbutton{\r\n  padding: 10px 20px;\r\n  border: 1px solid #495057;\r\n  border-radius: 4px;\r\n  background-color: #28a745;\r\n  color: white;\r\n  cursor: pointer;\r\n  margin: 20px 0;\r\n}\r\nbutton:hover {\r\n  background-color: #218838;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}